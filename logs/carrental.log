2025-07-10 18:19:36.309 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-10 18:19:36.399 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 32528 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 18:19:36.400 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 18:19:36.403 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 18:19:36.462 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-10 18:19:36.463 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-10 18:19:37.804 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 18:19:38.009 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 195 ms. Found 33 JPA repository interfaces.
2025-07-10 18:19:39.036 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 18:19:39.040 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 18:19:39.062 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 18:19:39.073 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 18:19:39.078 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 18:19:39.079 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 18:19:39.167 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 18:19:39.167 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2704 ms
2025-07-10 18:19:39.542 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 18:19:39.605 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-07-10 18:19:39.652 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 18:19:40.021 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:19:40.022 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:19:40.022 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:19:40.022 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:19:40.022 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:19:40.028 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:19:40.028 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:19:40.028 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:19:40.029 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:19:40.029 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:19:40.029 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:19:40.083 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 created by (SQLServerDriver:1)
2025-07-10 18:19:40.093 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 Connecting with server: localhost port: 1433 Timeout slice: 3749 Timeout Full: 30
2025-07-10 18:19:40.171 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4 Server returned major version:16
2025-07-10 18:19:40.590 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 created by (ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4)
2025-07-10 18:19:40.591 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 Executing (not server cursor) SELECT 1
2025-07-10 18:19:40.626 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:1 created by (SQLServerStatement:1)
2025-07-10 18:19:40.647 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:1 created by (ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4)
2025-07-10 18:19:40.664 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 created by (ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4)
2025-07-10 18:19:40.668 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 18:19:40.737 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:19:40.738 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:19:40.738 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:19:40.738 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:19:40.738 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:19:40.738 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:19:40.738 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 created by (SQLServerDriver:1)
2025-07-10 18:19:40.739 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:19:40.739 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 ClientConnectionId: 785fe958-a2c6-4063-ab46-db5e60f7c86d Server returned major version:16
2025-07-10 18:19:40.798 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:19:40.798 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:19:40.798 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:19:40.798 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:19:40.798 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:19:40.798 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:19:40.799 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 created by (SQLServerDriver:1)
2025-07-10 18:19:40.799 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:19:40.801 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 ClientConnectionId: 2458e4c2-9bd8-4cdc-9476-978add60729d Server returned major version:16
2025-07-10 18:19:40.822 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:2 created by (SQLServerStatement:2)
2025-07-10 18:19:40.841 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 18:19:40.850 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 created by (ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4)
2025-07-10 18:19:40.850 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 18:19:40.854 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:3 created by (SQLServerStatement:3)
2025-07-10 18:19:40.855 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 created by (ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4)
2025-07-10 18:19:40.856 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 18:19:40.858 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:4 created by (SQLServerStatement:4)
2025-07-10 18:19:40.859 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:19:40.860 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:19:40.860 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:19:40.860 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:19:40.860 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:19:40.860 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:19:40.861 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 created by (SQLServerDriver:1)
2025-07-10 18:19:40.861 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:19:40.863 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 ClientConnectionId: 4c6e0da4-4176-4cad-a786-dc46529e6665 Server returned major version:16
2025-07-10 18:19:40.869 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:1 created by (ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4)
2025-07-10 18:19:40.870 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:2 created by (ConnectionID:1 ClientConnectionId: 3d281382-b631-43a4-a982-a0ccd23e66d4)
2025-07-10 18:19:40.884 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 18:19:40.922 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:19:40.923 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:19:40.923 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:19:40.923 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:19:40.925 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:19:40.925 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:19:40.925 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 created by (SQLServerDriver:1)
2025-07-10 18:19:40.925 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:19:40.927 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 ClientConnectionId: f339fdd6-cf15-4ced-bb9e-1860951a4ec8 Server returned major version:16
2025-07-10 18:19:42.141 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 18:19:42.323 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 18:19:42.560 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-10 18:19:43.613 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 18:19:43.696 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 18:19:47.219 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 18:19:48.663 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 18:19:48.709 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 18:19:48.796 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 18:19:49.475 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 18:19:49.559 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 18:19:49.560 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@64f33364]]
2025-07-10 18:19:49.561 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 18:19:49.563 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 18:19:49.572 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-10 18:19:49.572 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@64f33364]]
2025-07-10 18:19:49.572 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-10 18:19:49.573 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-07-10 18:19:49.817 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-10 18:19:49.839 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-07-10 18:21:04.787 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-10 18:21:04.865 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 30740 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 18:21:04.866 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 18:21:04.866 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 18:21:04.913 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-10 18:21:04.914 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-10 18:21:06.165 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 18:21:06.329 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 33 JPA repository interfaces.
2025-07-10 18:21:07.307 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 18:21:07.310 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 18:21:07.330 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 18:21:07.343 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 18:21:07.348 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 18:21:07.349 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 18:21:07.433 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 18:21:07.435 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2520 ms
2025-07-10 18:21:07.903 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 18:21:07.965 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-07-10 18:21:08.006 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 18:21:08.343 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:21:08.344 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:21:08.344 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:21:08.344 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:21:08.344 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:21:08.350 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:21:08.351 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:21:08.351 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:21:08.351 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:21:08.351 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:21:08.351 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:21:08.387 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 created by (SQLServerDriver:1)
2025-07-10 18:21:08.395 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 Connecting with server: localhost port: 1433 Timeout slice: 3749 Timeout Full: 30
2025-07-10 18:21:08.430 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac Server returned major version:16
2025-07-10 18:21:08.767 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:08.769 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 Executing (not server cursor) SELECT 1
2025-07-10 18:21:08.816 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:1 created by (SQLServerStatement:1)
2025-07-10 18:21:08.830 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:1 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:08.845 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:08.846 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 18:21:08.890 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:2 created by (SQLServerStatement:2)
2025-07-10 18:21:08.907 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 18:21:08.915 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:08.915 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 18:21:08.917 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:3 created by (SQLServerStatement:3)
2025-07-10 18:21:08.918 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:08.919 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 18:21:08.920 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:4 created by (SQLServerStatement:4)
2025-07-10 18:21:08.927 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:1 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:08.928 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:2 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:08.935 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:21:08.935 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:21:08.935 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:21:08.936 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:21:08.936 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:21:08.936 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:21:08.936 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 created by (SQLServerDriver:1)
2025-07-10 18:21:08.937 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:21:08.938 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 18:21:08.938 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5 Server returned major version:16
2025-07-10 18:21:08.997 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:21:08.997 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:21:08.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:21:08.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:21:08.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:21:08.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:21:08.999 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 created by (SQLServerDriver:1)
2025-07-10 18:21:09.000 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:21:09.004 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 ClientConnectionId: f36073df-ad6d-4d5b-a70a-8452a0b1fe0b Server returned major version:16
2025-07-10 18:21:09.061 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:21:09.061 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:21:09.062 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:21:09.062 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:21:09.062 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:21:09.062 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:21:09.062 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 created by (SQLServerDriver:1)
2025-07-10 18:21:09.063 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:21:09.064 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 ClientConnectionId: 029ef2c8-7b9e-42e7-9a76-5beae12e554c Server returned major version:16
2025-07-10 18:21:09.125 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:21:09.125 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:21:09.125 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:21:09.125 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:21:09.126 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:21:09.126 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:21:09.126 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 created by (SQLServerDriver:1)
2025-07-10 18:21:09.126 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:21:09.128 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 ClientConnectionId: a83ebed5-da5a-4e3e-84b3-0e28f15874e4 Server returned major version:16
2025-07-10 18:21:10.372 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 18:21:10.525 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 18:21:10.659 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-10 18:21:11.820 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 18:21:11.873 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 18:21:14.124 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 18:21:15.439 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 18:21:15.479 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 18:21:15.566 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 18:21:16.340 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 18:21:16.419 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 18:21:16.420 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d7368e5]]
2025-07-10 18:21:16.422 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 18:21:16.422 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 18:21:16.460 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-10 18:21:16.473 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Started CarRentalApplication in 12.245 seconds (process running for 12.829)
2025-07-10 18:21:20.073 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-10 18:21:20.073 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-10 18:21:20.076 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-10 18:21:20.135 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/auth/login
2025-07-10 18:21:20.136 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/auth/login, isPublicEndpoint: true, isGetRestrictedEndpoint: false
2025-07-10 18:21:20.136 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Allowing public access to: /api/auth/login
2025-07-10 18:21:20.241 [http-nio-8080-exec-2] INFO  c.c.c.controller.AuthController - Xử lý đăng nhập cho username: HoangThiThuy1
2025-07-10 18:21:20.250 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.251 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 Executing (not server cursor) SELECT 1
2025-07-10 18:21:20.252 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:5 created by (SQLServerStatement:5)
2025-07-10 18:21:20.257 [http-nio-8080-exec-2] INFO  c.c.car_rental.service.AuthService - Xử lý đăng nhập cho username: HoangThiThuy1
2025-07-10 18:21:20.353 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.367 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:20.404 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:6 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:20.440 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.441 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:20.446 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:7 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:20.457 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.458 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:20.462 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:8 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:20.471 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.472 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:21:20.476 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:9 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:21:20.551 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:20.568 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.568 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:20.573 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:10 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:20.574 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:20.575 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:20.646 [http-nio-8080-exec-2] INFO  c.c.c.config.JwtTokenProvider - Generating JWT for username: HoangThiThuy1, original role: supplier, JWT role: ROLE_SUPPLIER
2025-07-10 18:21:20.683 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:20.683 [http-nio-8080-exec-2] INFO  c.c.car_rental.service.AuthService - Đăng nhập thành công cho username: HoangThiThuy1
2025-07-10 18:21:20.714 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.715 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 : calling sp_executesql: SQL:update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 
2025-07-10 18:21:20.878 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:21:20.878 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:20.879 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:20.879 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:21:20.880 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:20.880 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:20.880 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:20.967 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.968 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:20.974 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:11 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:20.977 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.977 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:20.983 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:12 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:20.985 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:20.985 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:20.990 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:13 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:20.994 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:20.994 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:21.027 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.027 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:21.036 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:14 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:21.038 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.039 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.042 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:15 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.046 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.047 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.053 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:16 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.076 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.077 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:21:21.089 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:17 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:21:21.106 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.107 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:21:21.116 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:18 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:21:21.123 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.124 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:21:21.126 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:19 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:21:21.131 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.131 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:21:21.132 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:20 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:21:21.140 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.141 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:21:21.152 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:21 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:21:21.155 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.156 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:21:21.163 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:22 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:21:21.168 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.168 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:21:21.175 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:23 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:21:21.181 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.181 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:21:21.188 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:24 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:21:21.194 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.195 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:21:21.205 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:25 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:21:21.222 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:21:21.222 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:21.223 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.223 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:21:21.223 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.224 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.224 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:21.228 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.228 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:21.232 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:21:21.232 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:21.232 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.232 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:21:21.234 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.234 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.235 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:21.235 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:26 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:21.236 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.236 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.237 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:29 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.237 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:29 Executing (not server cursor) SELECT 1
2025-07-10 18:21:21.238 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:27 created by (SQLServerStatement:29)
2025-07-10 18:21:21.239 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.239 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:21.241 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:28 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.242 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.243 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.245 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:29 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:21.246 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:30 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.247 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.247 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.247 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:21.247 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:21.251 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:31 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.253 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.253 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.254 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.254 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:21.256 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:32 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.257 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:21.258 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:21.258 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:33 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:21.259 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.260 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.264 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:34 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.265 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.265 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:21.265 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.265 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.268 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:35 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.270 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:36 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:21.271 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.272 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.273 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.273 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:21:21.275 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:37 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.277 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:38 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:21:21.277 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.277 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.278 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.279 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:21:21.280 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:39 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.284 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:40 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:21:21.286 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.287 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:21:21.289 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.290 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:21:21.292 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:41 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:21:21.294 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.294 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:21:21.299 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:42 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:21:21.302 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.303 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:21:21.311 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:43 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:21:21.313 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:44 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:21:21.314 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.315 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:21:21.323 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:45 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:21:21.327 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.327 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:21:21.329 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:46 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:21:21.331 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.331 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:21:21.335 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:47 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:21:21.336 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.336 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:21:21.340 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:48 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:21:21.355 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:21:21.355 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:21.356 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.356 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:21:21.356 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.356 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.356 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:21.360 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.360 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:21.362 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:21:21.362 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:21.363 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.363 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:21:21.363 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.363 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.363 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:21.364 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:49 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:21.365 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.365 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.367 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.367 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:21.368 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:50 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.368 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:51 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:21.368 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.369 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.369 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.369 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.369 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:52 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.370 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.370 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:53 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.370 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.370 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:54 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.371 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:21.371 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:21.371 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:21.372 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:21.375 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.375 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.375 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:21.375 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:21.380 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:55 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:21.380 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:56 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:21.381 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.381 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.381 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.381 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.382 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:57 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.383 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.383 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.384 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:58 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.385 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:59 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.386 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.386 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.386 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.386 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:21:21.387 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:60 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.394 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:21.395 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:21:21.398 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:61 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:21:21.414 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:62 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:21:21.429 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:21:21.429 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:21.430 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.430 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:21:21.430 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.430 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:21.432 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:21.434 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.435 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:21.439 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:63 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:21.441 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.441 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.444 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:64 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.445 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.446 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.448 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:65 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.448 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:21.449 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:21.453 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.454 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:21.459 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:66 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:21.460 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.460 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:21.463 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:67 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:21.464 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.465 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:21.467 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:68 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:21.471 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:21.472 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:21:21.499 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:69 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:21:22.186 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 18:21:22.186 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 18:21:22.186 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:22.186 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:22.191 [http-nio-8080-exec-6] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 18:21:22.191 [http-nio-8080-exec-4] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 18:21:23.289 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:21:23.289 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:23.290 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:23.290 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:21:23.290 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:23.290 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:23.290 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:23.293 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:71 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.293 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:71 Executing (not server cursor) SELECT 1
2025-07-10 18:21:23.293 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:70 created by (SQLServerStatement:71)
2025-07-10 18:21:23.294 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.294 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:23.298 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:71 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:23.300 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.300 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:23.302 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:72 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:23.303 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.303 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:23.305 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:73 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:23.306 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:23.306 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:23.310 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:21:23.310 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@1c78f98b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:21:23.310 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:21:23.310 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:21:23.310 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:21:23.311 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:21:23.311 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:21:23.311 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:21:23.315 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.315 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:23.318 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:74 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:23.319 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.319 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:23.320 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:75 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:23.321 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.321 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:23.322 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:76 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:23.323 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.324 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:21:23.325 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:77 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:21:23.328 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:23.329 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:21:23.331 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:78 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:21:23.340 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:21:23.341 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:23.341 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:23.341 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:21:23.342 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:23.342 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:23.342 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:23.345 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:80 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.346 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:80 Executing (not server cursor) SELECT 1
2025-07-10 18:21:23.346 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:79 created by (SQLServerStatement:80)
2025-07-10 18:21:23.347 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.347 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:23.347 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:80 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:23.348 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.348 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:23.349 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:81 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:23.349 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.350 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:23.350 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:82 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:23.351 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:23.351 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:23.354 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:21:23.354 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@6e2bbc5a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:21:23.354 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:21:23.354 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:21:23.354 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:21:23.354 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:21:23.354 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:21:23.355 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:21:23.357 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.358 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:21:23.359 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:83 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:21:23.359 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.360 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:23.360 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:84 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:23.361 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.361 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:23.361 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:85 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:23.362 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.362 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:21:23.363 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:86 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:21:23.366 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:21:23.367 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:21:23.368 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:87 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:21:34.587 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:21:34.588 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:21:34.588 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:34.588 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:21:34.588 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:34.589 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:21:34.589 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:21:34.590 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:89 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:34.590 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:89 Executing (not server cursor) SELECT 1
2025-07-10 18:21:34.591 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:88 created by (SQLServerStatement:89)
2025-07-10 18:21:34.591 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:34.591 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:21:34.595 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:89 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:21:34.596 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:34.596 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:21:34.598 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:90 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:21:34.599 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:21:34.599 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:21:34.601 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:91 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:21:34.602 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:21:34.602 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:21:34.644 [http-nio-8080-exec-6] ERROR c.c.c.config.GlobalExceptionHandler - Validation error: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(com.carrental.car_rental.dto.UpdateProfileDTO,org.springframework.security.core.Authentication) with 2 errors: [Field error in object 'updateProfileDTO' on field 'countryCode': rejected value [null]; codes [NotBlank.updateProfileDTO.countryCode,NotBlank.countryCode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateProfileDTO.countryCode,countryCode]; arguments []; default message [countryCode]]; default message [Mã quốc gia không được để trống]] [Field error in object 'updateProfileDTO' on field 'username': rejected value [null]; codes [NotBlank.updateProfileDTO.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateProfileDTO.username,username]; arguments []; default message [username]]; default message [Username không được để trống]] 
2025-07-10 18:21:34.645 [http-nio-8080-exec-6] ERROR c.c.c.config.GlobalExceptionHandler - Field 'countryCode' validation error: Mã quốc gia không được để trống
2025-07-10 18:21:34.646 [http-nio-8080-exec-6] ERROR c.c.c.config.GlobalExceptionHandler - Field 'username' validation error: Username không được để trống
2025-07-10 18:21:34.648 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(com.carrental.car_rental.dto.UpdateProfileDTO,org.springframework.security.core.Authentication) with 2 errors: [Field error in object 'updateProfileDTO' on field 'countryCode': rejected value [null]; codes [NotBlank.updateProfileDTO.countryCode,NotBlank.countryCode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateProfileDTO.countryCode,countryCode]; arguments []; default message [countryCode]]; default message [Mã quốc gia không được để trống]] [Field error in object 'updateProfileDTO' on field 'username': rejected value [null]; codes [NotBlank.updateProfileDTO.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateProfileDTO.username,username]; arguments []; default message [username]]; default message [Username không được để trống]] ]
2025-07-10 18:22:16.375 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-07-10 18:26:13.319 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:26:13.320 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:13.345 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:13.345 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:26:13.346 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:13.347 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:13.348 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:13.501 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:93 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.526 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:93 Executing (not server cursor) SELECT 1
2025-07-10 18:26:13.542 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:92 created by (SQLServerStatement:93)
2025-07-10 18:26:13.544 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.547 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:13.560 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:93 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:13.572 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.572 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:13.577 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:94 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:13.580 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.580 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:13.583 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:95 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:13.592 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:13.594 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:13.615 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:26:13.615 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@27cc80c8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:26:13.616 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:26:13.617 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:26:13.617 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:26:13.617 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:26:13.618 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:26:13.618 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:26:13.633 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.634 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:13.637 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:96 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:13.640 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.640 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:13.641 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:97 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:13.642 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.642 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:13.642 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:98 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:13.645 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.645 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:26:13.648 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:99 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:26:13.662 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:13.663 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:26:13.666 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:100 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:26:29.383 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:26:29.383 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:29.384 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.384 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:26:29.385 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.385 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.387 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:29.390 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:102 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.397 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:102 Executing (not server cursor) SELECT 1
2025-07-10 18:26:29.398 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:101 created by (SQLServerStatement:102)
2025-07-10 18:26:29.399 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.399 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:29.405 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:102 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:29.407 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.408 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.411 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:103 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.413 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.413 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.423 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:104 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.424 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:29.424 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:29.432 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.434 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:29.439 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:105 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:29.441 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.441 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.445 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:106 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.450 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.454 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.457 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:107 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.475 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.475 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:26:29.485 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:108 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:26:29.496 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.497 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:26:29.504 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:109 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:26:29.509 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.509 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:26:29.517 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:110 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:26:29.520 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.521 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:26:29.526 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:111 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:26:29.534 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.536 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:26:29.549 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:112 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:26:29.555 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.555 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:26:29.563 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:113 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:26:29.567 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.567 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:26:29.568 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:114 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:26:29.573 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.573 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:26:29.578 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:115 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:26:29.585 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.587 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:26:29.593 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:116 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:26:29.601 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:26:29.603 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:29.608 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.608 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:26:29.611 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.612 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.613 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:29.619 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:118 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.628 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:26:29.628 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:29.632 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.632 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:26:29.632 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:118 Executing (not server cursor) SELECT 1
2025-07-10 18:26:29.635 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:117 created by (SQLServerStatement:118)
2025-07-10 18:26:29.636 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.636 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.637 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:29.637 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.638 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:29.644 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.644 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:29.648 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:118 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:29.648 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:119 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:29.651 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.651 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.651 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.651 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.654 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:120 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.657 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.658 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.659 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:121 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.660 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:122 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.661 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.662 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.663 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:29.663 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:29.666 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:123 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.669 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:29.670 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:29.672 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.673 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:29.679 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:124 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:29.681 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.681 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.681 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:29.681 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.686 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:125 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.689 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.689 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:126 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:29.689 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.691 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.692 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.693 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:127 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.695 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:128 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.698 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.699 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.702 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.702 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:129 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.703 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:26:29.707 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:130 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:26:29.710 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.710 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:26:29.716 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:131 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:26:29.717 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.718 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:26:29.722 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:132 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:26:29.725 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.725 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.726 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:26:29.726 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:26:29.731 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:133 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:26:29.735 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.735 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:26:29.741 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:134 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:26:29.745 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.745 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:26:29.750 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:135 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:26:29.753 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.755 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:136 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:26:29.755 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:26:29.761 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:137 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:26:29.763 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.763 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:26:29.769 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:138 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:26:29.772 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.772 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:26:29.779 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:139 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:26:29.790 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:26:29.791 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:29.791 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.791 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:26:29.792 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.792 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.792 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:26:29.792 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:29.792 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:29.792 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.793 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:26:29.794 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.795 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.795 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:29.796 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.798 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:29.798 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.799 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:29.803 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:140 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:29.803 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:141 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:29.805 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.805 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.805 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.805 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.809 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:142 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.809 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:143 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.810 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.810 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.811 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.811 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.812 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:144 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.812 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:145 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.814 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:29.814 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:29.814 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:29.814 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:29.817 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.818 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:29.822 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:146 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:29.825 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.825 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.826 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:147 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.826 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.826 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:29.827 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.827 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.827 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:148 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:29.827 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:149 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.828 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.828 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.829 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:150 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.830 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.831 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.831 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:151 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.832 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:29.832 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:26:29.834 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.835 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:26:29.845 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:152 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:26:29.857 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:153 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:26:29.875 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:26:29.875 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:29.876 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.876 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:26:29.877 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.877 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:29.877 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:29.879 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.880 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:29.883 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:154 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:29.884 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.884 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.885 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:155 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.885 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.885 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.886 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:156 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.897 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:29.898 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:29.901 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.901 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:29.902 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:157 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:29.903 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.903 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:29.904 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:158 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:29.904 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.905 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:29.905 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:159 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:29.909 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:29.909 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:26:29.931 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:160 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:26:31.264 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 18:26:31.264 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 18:26:31.265 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:31.265 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:31.270 [http-nio-8080-exec-9] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 18:26:31.270 [http-nio-8080-exec-1] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 18:26:31.891 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:26:31.892 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:31.892 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:31.892 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:26:31.893 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:31.893 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:31.893 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:31.898 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:162 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.898 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:162 Executing (not server cursor) SELECT 1
2025-07-10 18:26:31.899 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:161 created by (SQLServerStatement:162)
2025-07-10 18:26:31.899 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.899 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:31.904 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:162 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:31.906 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.906 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:31.908 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:163 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:31.909 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.909 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:31.912 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:164 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:31.913 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:31.913 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:31.916 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:26:31.916 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@768eb2bb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:26:31.917 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:26:31.917 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:26:31.917 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:26:31.917 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:26:31.917 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:26:31.917 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:26:31.920 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.923 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:31.928 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:165 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:31.929 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.929 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:31.930 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:166 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:31.931 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.931 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:31.931 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:167 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:31.932 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.932 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:26:31.935 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:168 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:26:31.939 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:26:31.939 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:26:31.943 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:169 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:26:31.952 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:26:31.952 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:31.953 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:31.953 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:26:31.953 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:31.954 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:31.954 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:31.959 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:171 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.959 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:171 Executing (not server cursor) SELECT 1
2025-07-10 18:26:31.960 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:170 created by (SQLServerStatement:171)
2025-07-10 18:26:31.960 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.960 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:31.962 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:171 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:31.964 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.964 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:31.966 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:172 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:31.967 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.967 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:31.968 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:173 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:31.969 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:31.969 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:31.971 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:26:31.972 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@2b83fd90, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:26:31.972 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:26:31.972 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:26:31.972 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:26:31.972 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:26:31.972 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:26:31.972 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:26:31.977 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.978 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:26:31.979 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:174 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:26:31.980 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.980 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:31.981 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:175 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:31.981 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.982 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:31.983 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:176 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:31.985 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.985 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:26:31.985 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:177 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:26:31.988 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:31.989 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:26:31.992 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:178 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:26:38.858 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:26:38.858 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:26:38.858 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:38.859 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:26:38.859 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:38.859 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:26:38.859 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:26:38.863 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:180 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.863 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:180 Executing (not server cursor) SELECT 1
2025-07-10 18:26:38.865 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:179 created by (SQLServerStatement:180)
2025-07-10 18:26:38.865 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.865 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:38.869 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:180 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:38.870 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.870 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:38.872 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:181 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:38.873 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.873 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:38.874 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:182 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:38.875 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:26:38.875 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:26:38.903 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 18:26:38.903 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 18:26:38.906 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 18:26:38.906 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 18:26:38.909 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.909 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:26:38.913 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:183 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:26:38.914 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.914 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:26:38.917 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:184 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:26:38.918 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.918 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:38.920 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:185 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:38.922 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 18:26:38.931 [http-nio-8080-exec-10] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 18:26:38.977 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.978 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 18:26:38.983 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:186 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 18:26:38.984 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:38.984 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:26:38.985 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:187 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:26:39.006 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:39.007 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 18:26:39.017 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:188 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 18:26:39.032 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:39.032 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:26:39.034 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:189 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:26:39.039 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:26:39.039 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 18:26:39.040 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:26:39.040 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:26:39.040 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:26:39.040 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:26:39.040 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:26:39.040 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:26:39.041 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 created by (SQLServerDriver:1)
2025-07-10 18:26:39.042 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:26:39.044 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:190 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 18:26:39.047 [http-nio-8080-exec-10] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 18:26:39.051 [http-nio-8080-exec-10] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 18:26:39.056 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe Server returned major version:16
2025-07-10 18:26:39.113 [http-nio-8080-exec-10] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 18:35:53.255 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:35:53.255 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:35:53.259 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:35:53.259 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:35:53.259 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:35:53.260 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:35:53.260 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:35:53.268 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:192 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.273 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:192 Executing (not server cursor) SELECT 1
2025-07-10 18:35:53.277 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:191 created by (SQLServerStatement:192)
2025-07-10 18:35:53.277 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.278 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:35:53.294 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:192 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:35:53.298 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.298 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:35:53.306 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:193 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:35:53.309 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.309 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:35:53.314 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:194 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:35:53.316 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:35:53.316 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:35:53.321 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:35:53.321 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@265c2cc4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:35:53.322 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:35:53.322 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:35:53.322 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:35:53.322 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:35:53.322 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:35:53.322 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:35:53.331 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.331 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:35:53.336 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:195 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:35:53.338 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.338 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:35:53.340 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:196 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:35:53.343 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.343 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:35:53.345 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:197 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:35:53.347 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.348 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:35:53.351 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:198 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:35:53.356 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:35:53.356 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:35:53.360 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:199 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:36:17.568 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:36:17.568 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:17.569 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.569 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:36:17.570 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.570 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.574 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:17.581 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:201 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.597 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:201 Executing (not server cursor) SELECT 1
2025-07-10 18:36:17.602 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:200 created by (SQLServerStatement:201)
2025-07-10 18:36:17.603 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.604 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:17.612 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:201 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:17.614 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.615 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:17.622 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:202 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:17.625 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.626 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:17.629 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:203 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:17.632 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:17.632 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:17.640 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.641 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:17.647 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:204 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:17.650 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.650 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:17.657 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:205 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:17.660 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.660 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:17.664 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:206 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:17.680 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.681 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:36:17.697 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:207 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:36:17.708 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.709 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:36:17.738 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:208 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:36:17.744 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.744 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:36:17.758 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:209 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:36:17.762 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.763 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:36:17.776 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:210 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:36:17.786 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.787 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:36:17.808 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:211 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:36:17.816 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.819 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:36:17.845 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:212 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:36:17.854 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.855 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:36:17.862 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:213 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:36:17.871 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.872 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:36:17.894 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:214 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:36:17.901 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.902 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:36:17.921 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:215 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:36:17.939 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:36:17.942 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:17.944 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.944 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:36:17.945 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.946 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.946 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:17.958 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.959 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:17.966 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:36:17.967 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:17.969 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.970 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:36:17.972 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.972 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:17.973 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:17.985 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:218 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:17.993 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:216 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:17.997 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:17.998 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.000 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:218 Executing (not server cursor) SELECT 1
2025-07-10 18:36:18.007 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:217 created by (SQLServerStatement:218)
2025-07-10 18:36:18.009 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.011 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:218 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.011 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:18.016 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.017 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.026 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:219 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.029 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:220 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:18.029 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:18.030 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:18.032 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.032 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.040 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.041 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:221 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.042 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:18.045 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.045 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.052 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:222 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.052 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:223 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:18.055 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.056 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.056 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:18.056 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:18.057 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:224 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.060 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.061 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.064 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:225 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.073 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.074 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:18.075 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.076 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:36:18.078 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:226 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:18.083 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.084 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.089 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:227 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.094 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.095 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.098 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:228 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.100 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:229 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:36:18.106 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.106 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.106 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:36:18.106 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:36:18.121 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:230 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:36:18.126 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.126 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:36:18.129 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:231 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:36:18.136 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.136 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:36:18.137 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:232 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:36:18.145 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.146 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:36:18.148 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:233 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:36:18.171 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:234 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:36:18.180 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.181 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:36:18.206 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:235 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:36:18.227 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.228 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:36:18.231 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:36:18.232 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:18.234 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.235 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:36:18.235 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.237 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.237 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:18.249 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.251 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:18.261 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:236 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:36:18.269 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.269 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:237 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:18.269 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:36:18.273 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.274 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.281 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:238 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.285 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.286 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.286 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:239 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:36:18.290 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.291 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:36:18.292 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:240 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.294 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:18.296 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:18.306 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:241 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:36:18.307 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.307 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:18.317 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:242 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:18.321 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.321 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.332 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:36:18.332 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:243 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.332 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:18.335 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.335 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:36:18.336 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.336 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.337 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.337 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.337 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:18.347 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.347 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:244 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.348 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:18.357 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:245 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:18.357 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:18.358 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:36:18.362 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.363 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.367 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:246 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.373 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.374 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.377 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:247 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.383 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:18.384 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:18.400 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.401 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:18.405 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:248 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:18.410 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.411 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.413 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:249 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.417 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.420 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.426 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:250 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.438 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.440 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:36:18.441 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:251 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:36:18.481 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:252 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:36:18.525 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:36:18.526 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:18.528 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.529 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:36:18.533 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.534 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:18.534 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:18.537 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.538 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:18.543 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:253 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:18.545 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.545 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.548 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:254 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.549 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.550 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.552 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:255 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.553 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:18.553 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:18.560 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.561 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:18.568 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:256 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:18.570 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.570 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:18.573 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:257 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:18.575 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.576 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:18.578 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:258 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:18.583 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:18.583 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:36:18.607 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:259 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:36:19.515 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:36:19.516 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:19.518 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:19.518 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:36:19.519 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:19.519 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:19.519 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:19.524 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:261 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.526 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:261 Executing (not server cursor) SELECT 1
2025-07-10 18:36:19.527 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:260 created by (SQLServerStatement:261)
2025-07-10 18:36:19.528 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.529 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:19.537 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:261 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:19.540 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.541 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:19.544 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:262 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:19.546 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.546 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:19.551 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:263 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:19.555 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:19.555 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:19.558 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:36:19.558 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@6afbdaba, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:36:19.559 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:36:19.559 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:36:19.559 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:36:19.559 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:36:19.559 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:36:19.559 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:36:19.567 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.567 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:19.573 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:264 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:19.576 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.578 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:19.578 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:265 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:19.580 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.580 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:19.581 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:266 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:19.584 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.584 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:36:19.589 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:267 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:36:19.595 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:36:19.597 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:36:19.602 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:268 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:36:19.620 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:36:19.620 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:19.621 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:19.621 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:36:19.622 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:19.622 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:19.622 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:19.628 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:270 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.629 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:270 Executing (not server cursor) SELECT 1
2025-07-10 18:36:19.630 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:269 created by (SQLServerStatement:270)
2025-07-10 18:36:19.631 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.631 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:19.633 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:270 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:19.634 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.634 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:19.635 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:271 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:19.636 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.636 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:19.638 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:272 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:19.639 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:19.639 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:19.640 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:36:19.640 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@3d5806f7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:36:19.641 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:36:19.641 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:36:19.641 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:36:19.641 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:36:19.641 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:36:19.641 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:36:19.645 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.646 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:36:19.647 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:273 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:36:19.649 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.649 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:19.650 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:274 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:19.651 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.651 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:19.652 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:275 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:19.654 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.655 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:36:19.658 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:276 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:36:19.664 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:19.665 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:36:19.667 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:277 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:36:27.336 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:36:27.336 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:36:27.336 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:27.336 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:36:27.338 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:27.338 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:36:27.338 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:36:27.340 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:279 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.340 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:279 Executing (not server cursor) SELECT 1
2025-07-10 18:36:27.341 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:278 created by (SQLServerStatement:279)
2025-07-10 18:36:27.341 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.342 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:27.348 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:279 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:27.349 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.349 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:27.351 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:280 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:27.352 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.352 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:27.353 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:281 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:27.354 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:36:27.354 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:36:27.362 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 18:36:27.362 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 18:36:27.362 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 18:36:27.362 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 18:36:27.364 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.364 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:36:27.365 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:282 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:36:27.365 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.366 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:36:27.366 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:283 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:36:27.366 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.367 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:27.367 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:284 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:27.367 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 18:36:27.368 [http-nio-8080-exec-4] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 18:36:27.371 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.371 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 18:36:27.373 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:285 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 18:36:27.374 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.374 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:36:27.376 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:286 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:36:27.377 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.377 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 18:36:27.382 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:287 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 18:36:27.384 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.384 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:36:27.386 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:288 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:36:27.387 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:36:27.387 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 18:36:27.391 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:289 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 18:36:27.392 [http-nio-8080-exec-4] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 18:36:27.393 [http-nio-8080-exec-4] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 18:36:27.396 [http-nio-8080-exec-4] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 18:41:25.295 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:41:25.296 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:41:25.310 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:41:25.310 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:41:25.311 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:41:25.312 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:41:25.312 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:41:25.357 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:291 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.367 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:291 Executing (not server cursor) SELECT 1
2025-07-10 18:41:25.371 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:290 created by (SQLServerStatement:291)
2025-07-10 18:41:25.372 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.376 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:41:25.389 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:291 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:41:25.397 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.398 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:41:25.401 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:292 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:41:25.405 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.405 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:41:25.407 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:293 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:41:25.413 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:41:25.414 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:41:25.424 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:41:25.425 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@178fc3c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:41:25.425 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:41:25.425 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:41:25.425 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:41:25.425 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:41:25.425 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:41:25.425 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:41:25.433 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.433 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:41:25.436 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:294 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:41:25.438 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.439 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:41:25.442 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:295 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:41:25.443 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.443 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:41:25.444 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:296 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:41:25.446 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.446 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:41:25.449 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:297 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:41:25.456 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:41:25.456 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:41:25.458 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:298 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:43:47.248 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:43:47.249 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:43:47.251 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:47.251 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:43:47.256 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:47.259 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:47.260 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:43:47.263 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:300 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.271 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:300 Executing (not server cursor) SELECT 1
2025-07-10 18:43:47.272 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:299 created by (SQLServerStatement:300)
2025-07-10 18:43:47.273 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.273 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:43:47.284 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:300 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:43:47.286 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.286 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:47.292 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:301 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:47.293 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.293 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:47.299 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:302 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:47.301 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:43:47.301 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:43:47.304 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:43:47.305 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@a5aade3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:43:47.305 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:43:47.305 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:43:47.305 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:43:47.305 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:43:47.305 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:43:47.305 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:43:47.312 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.312 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:43:47.320 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:303 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:43:47.322 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.323 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:47.326 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:304 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:47.328 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.328 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:47.333 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:305 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:47.335 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.335 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:43:47.340 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:306 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:43:47.346 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:47.347 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:43:47.351 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:307 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:43:58.659 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:43:58.659 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:43:58.660 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:58.660 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:43:58.661 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:58.665 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:58.665 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:43:58.671 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:309 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.671 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:309 Executing (not server cursor) SELECT 1
2025-07-10 18:43:58.672 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:308 created by (SQLServerStatement:309)
2025-07-10 18:43:58.672 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.674 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:43:58.688 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:309 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:43:58.691 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.692 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:58.697 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:310 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:58.699 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.700 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:58.704 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:311 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:58.706 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:43:58.708 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:43:58.715 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.715 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:43:58.720 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:312 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:43:58.721 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.722 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:58.727 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:313 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:58.729 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.729 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:58.732 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:314 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:58.740 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.740 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:43:58.756 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:315 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:43:58.762 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.763 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:43:58.778 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:316 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:43:58.786 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.787 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:43:58.792 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:317 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:43:58.796 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.798 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:43:58.799 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:318 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:43:58.805 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.806 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:43:58.828 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:319 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:43:58.844 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.844 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:43:58.859 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:320 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:43:58.872 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.873 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:43:58.890 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:321 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:43:58.897 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.899 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:43:58.917 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:322 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:43:58.947 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:58.949 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:43:58.975 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:323 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:43:58.995 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 18:43:58.996 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:43:58.997 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:58.998 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 18:43:58.998 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.000 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.000 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:43:59.010 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:325 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.024 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:325 Executing (not server cursor) SELECT 1
2025-07-10 18:43:59.034 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:324 created by (SQLServerStatement:325)
2025-07-10 18:43:59.036 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.037 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:43:59.055 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:43:59.055 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:43:59.058 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.059 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:43:59.059 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:325 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:43:59.060 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.061 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.062 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:43:59.063 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.067 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.074 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.075 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:43:59.076 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:326 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.078 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:327 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:43:59.078 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.079 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.079 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.079 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.080 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:328 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.082 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.083 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.082 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:329 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.084 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:330 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.086 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:43:59.087 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:43:59.088 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:43:59.088 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:43:59.095 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.095 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.095 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:43:59.095 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:43:59.098 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:331 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:43:59.099 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:332 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:43:59.103 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.103 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.103 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.103 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.106 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:333 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.108 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:334 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.109 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.109 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.110 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.110 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.116 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:335 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.116 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:336 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.123 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.125 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:43:59.127 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.129 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:43:59.139 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:337 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:43:59.143 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.144 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:43:59.151 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:338 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:43:59.154 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.155 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:43:59.161 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:339 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:43:59.165 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.165 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 18:43:59.170 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:340 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:43:59.175 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:341 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 18:43:59.182 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.183 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:43:59.207 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:342 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:43:59.216 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.216 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:43:59.229 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:343 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:43:59.239 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.241 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 18:43:59.263 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:344 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 18:43:59.270 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:43:59.272 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:43:59.272 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.273 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 18:43:59.279 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.279 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:43:59.280 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.280 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.280 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:43:59.285 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:345 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 18:43:59.291 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.294 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.292 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:43:59.297 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 18:43:59.307 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:346 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:43:59.307 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:347 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 18:43:59.312 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.313 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.322 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:348 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.329 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.330 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.336 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:349 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.340 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:43:59.341 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:43:59.343 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:43:59.343 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:43:59.345 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.345 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:43:59.346 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.350 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.354 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:43:59.363 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.365 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.364 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:43:59.367 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:43:59.385 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:350 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:43:59.385 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:351 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:43:59.391 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.391 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.394 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.394 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.404 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:352 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.404 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:353 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.409 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.409 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.410 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.410 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.418 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:355 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.419 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:354 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.421 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:43:59.422 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:43:59.433 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.433 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.434 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:43:59.434 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:43:59.444 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:356 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:43:59.450 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.452 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.458 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:357 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.461 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.462 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.468 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:358 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.473 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:43:59.475 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:43:59.494 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:359 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:43:59.497 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:360 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:43:59.532 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:43:59.532 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:43:59.533 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.533 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:43:59.534 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.535 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:43:59.535 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:43:59.546 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.546 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:43:59.556 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:361 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:43:59.559 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.559 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.566 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:362 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.569 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.569 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.574 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:363 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.578 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:43:59.579 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:43:59.587 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.587 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:43:59.592 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:364 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:43:59.595 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.595 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:43:59.597 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:365 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:43:59.598 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.598 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:43:59.599 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:366 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:43:59.605 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:43:59.766 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:43:59.797 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:367 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:44:00.938 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:44:00.939 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:44:00.941 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:00.941 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:44:00.941 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:00.942 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:00.942 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:44:00.946 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:369 created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.946 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:369 Executing (not server cursor) SELECT 1
2025-07-10 18:44:00.947 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:368 created by (SQLServerStatement:369)
2025-07-10 18:44:00.947 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.947 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:44:00.956 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:369 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:44:00.958 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.958 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:44:00.961 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:370 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:44:00.965 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.965 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:44:00.969 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:371 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:44:00.970 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:44:00.970 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@64e72dcb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:44:00.973 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:44:00.977 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.977 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:44:00.981 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:372 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:44:00.983 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.983 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:44:00.983 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:373 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:44:00.984 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.984 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:44:00.984 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:374 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:44:00.985 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.986 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:44:00.987 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:375 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:44:00.994 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:00.994 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:44:00.998 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:376 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:44:01.010 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:44:01.011 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:44:01.012 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:01.013 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:44:01.014 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:01.014 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:01.015 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:44:01.023 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.024 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:44:01.025 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:377 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:44:01.026 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.026 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:44:01.027 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:378 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:44:01.028 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.028 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:44:01.029 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:379 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:44:01.030 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:44:01.030 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:44:01.032 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 18:44:01.032 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@39178ee, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 18:44:01.032 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 18:44:01.032 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 18:44:01.032 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 18:44:01.032 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 18:44:01.032 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 18:44:01.034 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 18:44:01.042 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.042 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:44:01.043 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:380 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:44:01.043 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.044 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:44:01.044 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:381 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:44:01.044 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.044 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:44:01.045 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:382 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:44:01.046 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.046 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:44:01.046 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:383 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:44:01.051 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: f61dd433-c07d-42c9-bb70-fac2863ebcac)
2025-07-10 18:44:01.051 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 18:44:01.052 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:384 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 18:44:11.036 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 18:44:11.036 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:44:11.036 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:11.036 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 18:44:11.037 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:11.037 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:44:11.037 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:44:11.039 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:386 created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.039 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:386 Executing (not server cursor) SELECT 1
2025-07-10 18:44:11.039 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:385 created by (SQLServerStatement:386)
2025-07-10 18:44:11.039 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.040 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:44:11.043 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:386 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:44:11.045 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.045 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:44:11.047 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:387 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:44:11.047 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.048 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:44:11.049 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:388 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:44:11.050 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:44:11.050 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:44:11.059 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 18:44:11.059 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 18:44:11.059 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 18:44:11.059 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 18:44:11.061 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.061 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:44:11.062 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:389 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:44:11.062 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.062 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:44:11.063 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:390 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:44:11.063 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.063 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:44:11.064 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:391 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:44:11.064 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 18:44:11.065 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 18:44:11.066 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.066 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 18:44:11.068 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:392 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 18:44:11.069 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.069 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:44:11.069 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:393 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:44:11.071 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.071 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 18:44:11.075 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:394 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 18:44:11.077 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.077 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 18:44:11.079 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:395 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 18:44:11.080 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: cdb4bd50-4c7b-4d2f-bc18-bf57cf1e4ea5)
2025-07-10 18:44:11.080 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 18:44:11.084 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:396 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 18:44:11.084 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 18:44:11.085 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 18:44:11.088 [http-nio-8080-exec-5] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 18:50:38.483 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:50:38.484 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:50:38.485 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:50:38.492 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:50:38.493 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:50:38.493 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:50:38.496 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 created by (SQLServerDriver:1)
2025-07-10 18:50:38.500 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:50:38.522 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f Server returned major version:16
2025-07-10 18:50:47.052 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:50:47.052 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:50:47.052 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:50:47.052 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:50:47.052 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:50:47.052 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:50:47.053 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 created by (SQLServerDriver:1)
2025-07-10 18:50:47.053 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:50:47.054 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0 Server returned major version:16
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 created by (SQLServerDriver:1)
2025-07-10 18:50:56.219 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:50:56.222 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3 Server returned major version:16
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 created by (SQLServerDriver:1)
2025-07-10 18:50:58.330 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:50:58.331 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 ClientConnectionId: 28b56b0a-9af6-43e7-9f53-fbe597f22702 Server returned major version:16
2025-07-10 18:52:16.390 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-07-10 18:53:07.272 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:53:07.276 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:53:07.286 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:07.287 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:53:07.288 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:07.288 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:07.289 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:53:07.377 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:398 created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.393 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:398 Executing (not server cursor) SELECT 1
2025-07-10 18:53:07.397 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:397 created by (SQLServerStatement:398)
2025-07-10 18:53:07.399 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.406 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:53:07.418 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:398 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:53:07.427 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.427 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:07.430 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:399 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:07.434 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.434 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:07.436 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:400 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:07.440 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:53:07.440 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:53:07.455 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.455 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:53:07.458 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:401 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:53:07.459 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.459 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:07.459 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:402 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:07.460 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.460 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:07.461 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:403 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:07.466 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.467 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:53:07.492 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:404 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:53:07.549 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 18:53:07.549 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:53:07.572 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:07.575 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 18:53:07.576 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:07.579 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:07.580 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:53:07.585 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.586 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:53:07.590 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:405 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:53:07.592 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.592 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:07.593 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:406 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:07.594 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.595 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:07.597 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:407 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:07.598 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:53:07.598 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:53:07.605 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.605 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:53:07.607 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:408 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:53:07.610 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.610 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:07.611 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:409 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:07.613 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.613 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:07.614 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:410 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:07.620 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:07.623 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 18:53:07.629 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:411 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 18:53:12.311 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:53:12.311 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:53:12.312 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:12.312 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:53:12.312 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:12.314 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:12.314 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:53:12.316 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:413 created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.316 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:413 Executing (not server cursor) SELECT 1
2025-07-10 18:53:12.317 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:412 created by (SQLServerStatement:413)
2025-07-10 18:53:12.318 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.318 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:53:12.328 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:413 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:53:12.329 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.330 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:12.334 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:414 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:12.335 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.336 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:12.338 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:415 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:12.340 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:53:12.340 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:53:12.344 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.344 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:53:12.347 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:416 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:53:12.349 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.349 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:12.350 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:417 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:12.352 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.352 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:12.352 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:418 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:12.356 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.357 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:53:12.381 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:419 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:53:12.389 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 18:53:12.390 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 18:53:12.391 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:12.391 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 18:53:12.391 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:12.391 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 18:53:12.399 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 18:53:12.401 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.401 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 18:53:12.402 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:420 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 18:53:12.403 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.403 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:12.403 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:421 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:12.404 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.404 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:12.404 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:422 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:12.405 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 18:53:12.405 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 18:53:12.409 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.409 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 18:53:12.410 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:423 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 18:53:12.411 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.411 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 18:53:12.411 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:424 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 18:53:12.412 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.412 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 18:53:12.412 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:425 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 18:53:12.414 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:6 ClientConnectionId: 1ec3f612-a068-419b-ba86-36f3661ddebe)
2025-07-10 18:53:12.415 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 18:53:12.417 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:426 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 18:56:34.345 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 18:56:34.345 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 18:56:34.345 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 18:56:34.345 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 18:56:34.345 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 18:56:34.345 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 18:56:34.346 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:11 created by (SQLServerDriver:1)
2025-07-10 18:56:34.346 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:11 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 18:56:34.349 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:11 ClientConnectionId: 0b852271-cd4d-4ffb-a967-2abae5fe5789 Server returned major version:16
2025-07-10 19:02:35.043 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 19:02:35.047 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:35.063 [http-nio-8080-exec-7] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 19:02:35.082 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 19:02:35.082 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:35.083 [http-nio-8080-exec-3] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 19:02:35.539 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:02:35.539 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:35.555 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:02:35.555 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:02:35.555 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:35.555 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:35.555 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.555 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:02:35.555 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.555 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.555 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:02:35.556 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:02:35.556 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.556 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.556 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.556 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.558 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.558 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:35.558 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:35.558 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:35.558 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:35.720 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:429 created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:35.720 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:430 created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:35.720 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:428 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:35.720 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:02:35.721 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:02:35.721 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:02:35.721 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:02:35.721 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:02:35.721 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:02:35.724 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:12 created by (SQLServerDriver:1)
2025-07-10 19:02:35.727 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:12 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:02:35.733 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:428 Executing (not server cursor) SELECT 1
2025-07-10 19:02:35.733 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:429 Executing (not server cursor) SELECT 1
2025-07-10 19:02:35.733 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:430 Executing (not server cursor) SELECT 1
2025-07-10 19:02:35.742 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:12 ClientConnectionId: 7f042f50-3601-46ec-be6b-d48c0cceaf55 Server returned major version:16
2025-07-10 19:02:35.745 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:429 created by (SQLServerStatement:429)
2025-07-10 19:02:35.745 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:427 created by (SQLServerStatement:428)
2025-07-10 19:02:35.745 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:428 created by (SQLServerStatement:430)
2025-07-10 19:02:35.751 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:35.751 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:35.751 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:35.756 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:35.756 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:35.756 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:35.802 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:430 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:35.803 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:432 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:35.803 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:431 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:35.815 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:35.815 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:35.815 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:35.816 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:35.816 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:35.816 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:35.822 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:02:35.822 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:02:35.822 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:02:35.822 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:434 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:35.822 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:435 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:35.822 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:433 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:35.822 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:02:35.823 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:02:35.823 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:02:35.823 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:13 created by (SQLServerDriver:1)
2025-07-10 19:02:35.824 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:13 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:02:35.824 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:13 ClientConnectionId: fd234856-a92f-4705-81bd-39577f3540c1 Server returned major version:16
2025-07-10 19:02:35.827 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:35.827 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:35.827 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:35.827 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:35.828 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:35.828 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:35.831 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:436 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:35.831 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:437 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:35.831 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:438 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:35.842 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:35.842 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:35.842 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:35.842 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:35.842 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:35.842 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:35.888 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:35.888 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:35.894 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:439 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:35.896 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:35.896 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:35.899 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:440 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:35.902 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:35.902 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:35.904 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:441 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.324 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.325 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:02:36.338 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.338 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:36.342 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:442 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:02:36.344 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:02:36.344 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:36.345 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.346 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.346 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:02:36.346 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:36.346 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.347 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.347 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:36.348 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:443 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:36.351 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:446 created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:36.351 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.352 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:446 Executing (not server cursor) SELECT 1
2025-07-10 19:02:36.352 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.353 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:444 created by (SQLServerStatement:446)
2025-07-10 19:02:36.353 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:36.354 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:36.357 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:445 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.358 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:446 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:36.360 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.360 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.361 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.361 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:36.362 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:447 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:36.364 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.365 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:36.366 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:449 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:36.366 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:448 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.366 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:450 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:36.368 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:36.368 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.369 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:451 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.370 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:36.371 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.371 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.371 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:36.373 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:452 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.373 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.373 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:02:36.374 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:36.375 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:36.392 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:453 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:36.398 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.399 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:36.408 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:454 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:36.424 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.425 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:36.426 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:456 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:36.426 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:455 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:02:36.429 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.429 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:36.437 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:457 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:36.442 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.442 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:02:36.451 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:458 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:02:36.461 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:02:36.462 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:36.462 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.462 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:02:36.462 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.463 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.463 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:36.468 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.469 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:36.471 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:459 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:36.472 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.473 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.474 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:460 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.477 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.478 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.479 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:461 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.482 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:36.484 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:36.485 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:02:36.485 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:36.486 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.486 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:02:36.486 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.487 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.487 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:36.489 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.490 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:36.490 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.491 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:36.491 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:462 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:36.491 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:463 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:36.492 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.492 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.492 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.492 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.494 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:464 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.494 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:465 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.495 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.495 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.495 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.495 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.495 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:466 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.496 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:467 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.497 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:36.497 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:36.499 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.501 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.501 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:36.500 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:02:36.502 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:468 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:36.502 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:469 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:02:36.503 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.505 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.506 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:470 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.507 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.507 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.508 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:36.508 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.508 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:471 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.508 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:472 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:36.511 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.513 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:36.515 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:473 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:36.516 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.516 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:02:36.521 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.521 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:36.525 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:474 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:36.526 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:475 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:02:36.530 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.530 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:36.531 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:476 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:36.537 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.538 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:36.541 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:477 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:36.545 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.545 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:36.548 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:478 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:36.551 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.551 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:36.552 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:479 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:36.555 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:36.555 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:02:36.556 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:480 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:02:36.681 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:02:36.681 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:36.682 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.682 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:02:36.682 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.682 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.683 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:36.684 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.684 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:36.690 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:481 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:36.691 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.691 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.695 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:482 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.696 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.697 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.700 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:483 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.701 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:36.702 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:36.704 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:02:36.705 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@594755ec, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:02:36.705 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:02:36.705 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:02:36.705 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:02:36.705 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:02:36.705 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:02:36.705 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:02:36.711 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.711 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:36.716 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:484 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:36.718 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.718 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.720 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:485 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.721 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.722 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.726 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:486 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.727 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.727 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:02:36.730 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:487 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:02:36.732 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.733 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:02:36.737 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:488 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:02:36.746 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:02:36.746 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:36.747 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.747 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:02:36.748 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.748 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:36.749 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:36.751 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.751 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:36.754 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:489 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:36.757 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.757 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.760 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:490 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.762 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.762 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.764 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:491 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.766 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:36.767 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@518e894f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:02:36.769 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:02:36.772 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.773 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:36.776 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:492 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:36.778 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.778 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:36.781 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:493 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:36.782 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.782 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:36.784 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:494 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:36.786 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.787 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:02:36.788 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:495 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:02:36.791 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:36.791 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:02:36.795 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:496 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:02:37.923 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:02:37.924 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:37.924 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:37.924 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:02:37.924 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:37.925 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:37.925 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:37.927 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:498 created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.928 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:498 Executing (not server cursor) SELECT 1
2025-07-10 19:02:37.929 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:497 created by (SQLServerStatement:498)
2025-07-10 19:02:37.929 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.929 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:37.937 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:498 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:37.938 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.938 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:37.941 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:499 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:37.942 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.942 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:37.944 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:500 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:37.944 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:37.945 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:37.948 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.948 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:37.950 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:501 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:37.951 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.952 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:37.952 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:502 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:37.953 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.953 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:37.955 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:503 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:37.957 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.957 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:02:37.962 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:504 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:02:37.963 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.964 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:37.969 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:505 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:37.972 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.972 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:37.973 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:506 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:37.975 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.976 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:37.976 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:507 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:37.981 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.981 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:37.988 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:508 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:37.993 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:37.993 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:37.998 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:509 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:38.003 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.004 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:38.005 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:510 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:38.006 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.007 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:38.011 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:511 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:38.014 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.014 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:02:38.020 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:512 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:02:38.027 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:02:38.027 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:38.028 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.028 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:02:38.029 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.029 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.029 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:38.033 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.035 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:38.036 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:513 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:38.037 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.038 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.038 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:514 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.040 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.040 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.041 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:515 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.042 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:38.043 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:02:38.043 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:38.043 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:38.044 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.044 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:02:38.044 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.044 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.044 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:38.047 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.047 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:518 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.047 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:518 Executing (not server cursor) SELECT 1
2025-07-10 19:02:38.047 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:38.048 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:516 created by (SQLServerStatement:518)
2025-07-10 19:02:38.048 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:517 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:38.049 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.049 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:38.050 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.050 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.051 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:518 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:38.051 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:519 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.053 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.053 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.053 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.053 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.053 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:520 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.053 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:521 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.054 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.054 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.054 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:522 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.055 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:38.055 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:38.056 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.056 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:02:38.057 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:523 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:02:38.058 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.059 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:38.059 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.059 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:524 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:38.059 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:38.060 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:525 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:38.061 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.062 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:38.064 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.064 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.065 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:526 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:38.065 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:527 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.067 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.068 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.068 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.069 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:02:38.069 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:528 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.069 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:529 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:02:38.072 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.073 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:02:38.073 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.074 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:38.078 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:530 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:38.083 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.083 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:38.084 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:531 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:38.087 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:532 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:02:38.090 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.090 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:02:38.090 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:533 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:02:38.093 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.093 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:02:38.095 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:534 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:02:38.098 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:02:38.098 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:02:38.099 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:535 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:02:38.105 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:02:38.105 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:38.106 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.107 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:02:38.107 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.107 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.107 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:38.108 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:02:38.108 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:38.108 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.108 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:02:38.109 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.109 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.109 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:38.110 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:537 created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.111 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:537 Executing (not server cursor) SELECT 1
2025-07-10 19:02:38.113 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:536 created by (SQLServerStatement:537)
2025-07-10 19:02:38.113 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.113 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.113 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:38.113 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:38.114 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:537 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:38.114 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:538 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:38.115 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.115 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.116 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.116 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.117 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:540 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.117 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:539 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.118 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.118 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.119 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.119 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.119 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:541 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.119 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:542 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.120 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:38.120 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:38.120 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:38.120 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:38.125 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.125 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.125 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:38.125 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:38.126 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:543 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:38.126 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:544 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:38.127 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.127 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.128 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.128 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.129 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:545 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.129 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:546 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.130 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.130 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.130 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.130 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.131 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:547 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.131 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:548 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.133 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.135 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:02:38.135 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:02:38.135 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:02:38.136 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:549 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:02:38.155 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:550 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:02:38.162 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:02:38.162 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:38.163 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.163 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:02:38.164 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.164 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:38.164 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:38.168 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.168 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:38.169 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:551 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:38.170 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.171 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.171 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:552 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.173 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.173 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.174 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:553 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.174 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:38.175 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:38.180 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.181 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:38.182 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:554 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:38.185 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.185 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:38.186 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:555 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:38.187 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.187 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:38.188 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:556 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:38.193 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:38.193 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:02:38.217 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:557 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:02:39.345 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:02:39.345 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:39.345 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:39.345 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:02:39.345 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:39.346 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:39.346 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:39.350 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:559 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.350 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:559 Executing (not server cursor) SELECT 1
2025-07-10 19:02:39.351 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:558 created by (SQLServerStatement:559)
2025-07-10 19:02:39.351 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.351 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:39.357 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:559 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:39.358 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.358 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:39.362 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:560 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:39.363 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.363 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:39.365 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:561 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:39.366 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:39.367 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:39.368 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:02:39.368 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@55358cde, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:02:39.368 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:02:39.368 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:02:39.368 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:02:39.369 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:02:39.369 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:02:39.369 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:02:39.372 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.374 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:39.376 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:562 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:39.376 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.377 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:39.378 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:563 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:39.378 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.379 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:39.379 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:564 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:39.380 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.380 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:02:39.381 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:565 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:02:39.385 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.385 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:02:39.387 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:566 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:02:39.393 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:02:39.393 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:39.393 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:39.393 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:02:39.393 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:39.394 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:39.394 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:39.397 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.398 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:39.398 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:567 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:39.399 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.399 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:39.399 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:568 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:39.400 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.400 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:39.400 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:569 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:39.400 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:39.400 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@4190c631, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:02:39.402 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:02:39.404 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.405 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:02:39.405 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:570 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:02:39.406 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.406 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:39.406 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:571 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:39.407 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.407 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:39.408 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:572 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:39.409 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.409 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:02:39.411 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:573 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:02:39.413 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:39.413 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:02:39.414 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:574 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:02:43.017 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:02:43.018 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:02:43.018 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:43.018 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:02:43.018 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:43.018 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:02:43.018 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:02:43.020 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:576 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.022 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:576 Executing (not server cursor) SELECT 1
2025-07-10 19:02:43.022 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:575 created by (SQLServerStatement:576)
2025-07-10 19:02:43.022 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.022 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:43.025 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:576 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:43.026 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.027 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:43.029 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:577 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:43.029 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.029 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:43.031 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:578 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:43.031 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:02:43.032 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:02:43.034 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:02:43.034 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:02:43.034 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:02:43.034 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:02:43.036 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.036 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:02:43.040 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:579 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:02:43.040 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.041 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:02:43.043 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:580 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:02:43.044 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.044 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:43.045 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:581 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:43.046 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:02:43.047 [http-nio-8080-exec-4] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:02:43.048 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.048 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:02:43.053 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:582 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:02:43.053 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.053 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:02:43.055 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:583 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:02:43.056 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.057 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:02:43.063 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:584 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:02:43.065 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.065 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:02:43.067 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:585 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:02:43.069 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:02:43.069 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:02:43.074 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:586 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:02:43.074 [http-nio-8080-exec-4] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:02:43.075 [http-nio-8080-exec-4] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:02:43.078 [http-nio-8080-exec-4] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 19:03:11.196 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:03:11.196 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:03:11.200 [http-nio-8080-exec-1] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /api/users/profile, error: Full authentication is required to access this resource
2025-07-10 19:03:11.255 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /favicon.ico
2025-07-10 19:03:11.255 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /favicon.ico, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:03:11.256 [http-nio-8080-exec-5] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /favicon.ico, error: Full authentication is required to access this resource
2025-07-10 19:13:29.698 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:13:29.700 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:29.729 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:29.732 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:13:29.733 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:29.739 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:29.740 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:29.863 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:588 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:29.896 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:588 Executing (not server cursor) SELECT 1
2025-07-10 19:13:29.938 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:587 created by (SQLServerStatement:588)
2025-07-10 19:13:29.942 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:29.957 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:30.084 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:588 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:30.128 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.129 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:30.150 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:589 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:30.163 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.163 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:30.189 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:590 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:30.225 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:30.234 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:30.342 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.344 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:30.383 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:591 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:30.388 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.390 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:30.438 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:592 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:30.443 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.444 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:30.469 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:593 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:30.507 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.508 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:13:30.543 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:594 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:13:30.585 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.587 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:13:30.609 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:595 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:13:30.621 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.623 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:13:30.627 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:596 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:13:30.634 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.635 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:13:30.641 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:597 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:13:30.663 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.664 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:13:30.751 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:598 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:13:30.759 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.759 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:13:30.790 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:599 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:13:30.799 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.800 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:13:30.803 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:600 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:13:30.808 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.810 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:13:30.820 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:601 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:13:30.840 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.843 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:13:30.862 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:602 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:13:30.899 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:13:30.899 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:30.903 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:30.904 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:13:30.905 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:30.905 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:30.905 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:30.910 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:604 created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:30.924 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:13:30.925 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:30.926 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:30.926 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:13:30.927 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:30.927 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:604 Executing (not server cursor) SELECT 1
2025-07-10 19:13:30.927 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:30.928 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:30.929 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:603 created by (SQLServerStatement:604)
2025-07-10 19:13:30.929 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:30.930 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:30.933 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.933 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:30.961 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:605 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:30.961 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:604 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:30.966 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.966 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:30.967 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:30.967 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:30.988 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:607 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:30.988 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:606 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:30.993 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:30.993 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:30.994 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:30.994 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.010 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:608 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.010 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:609 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.013 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:31.014 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:31.014 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:31.014 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:31.025 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.027 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:31.027 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.027 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:31.039 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:611 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:31.039 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:610 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:31.041 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.041 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.041 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.041 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.043 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:612 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.044 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:613 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.047 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.048 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.050 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:614 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.058 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.058 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:13:31.077 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.077 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:615 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:13:31.079 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.080 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:616 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.082 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.082 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:13:31.090 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.091 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:13:31.097 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:617 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:13:31.100 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.101 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:13:31.102 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:618 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:13:31.107 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.107 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:13:31.108 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:619 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:13:31.118 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.118 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:13:31.138 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:620 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:13:31.138 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:621 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:13:31.144 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.145 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:13:31.173 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:622 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:13:31.179 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.180 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:13:31.182 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:623 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:13:31.188 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.188 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:13:31.198 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:624 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:13:31.208 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.208 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:13:31.212 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:13:31.212 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:31.213 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.213 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:13:31.214 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.214 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.214 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:31.220 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:625 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:13:31.221 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:627 created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.239 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:627 Executing (not server cursor) SELECT 1
2025-07-10 19:13:31.251 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:626 created by (SQLServerStatement:627)
2025-07-10 19:13:31.252 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.253 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:31.256 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:13:31.257 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:31.258 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.260 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:13:31.263 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.264 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.265 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:31.276 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.279 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:31.300 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:627 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:31.303 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:628 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:31.306 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.307 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.308 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.309 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.325 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:629 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.326 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:630 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.329 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.329 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.329 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.330 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.334 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:631 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.334 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:632 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.337 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:31.337 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:31.337 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:31.337 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:31.348 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.348 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.350 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:31.350 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:31.360 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:633 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:31.364 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:634 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:31.366 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.366 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.366 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.366 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.368 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:636 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.368 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:635 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.370 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.370 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.370 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.370 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.372 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:637 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.374 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:638 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.387 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.387 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:31.388 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:13:31.388 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:13:31.486 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:639 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:13:31.487 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:640 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:13:31.508 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:13:31.508 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:31.509 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.509 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:13:31.510 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.511 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.511 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:31.520 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.521 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:31.546 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:641 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:31.549 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.550 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.554 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:642 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.557 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.557 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.561 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:643 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.562 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:31.562 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:31.570 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.571 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:31.577 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:644 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:31.581 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.581 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.584 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:645 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.588 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.588 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.590 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:646 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.676 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.678 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:13:31.698 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:13:31.699 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:31.700 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.700 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:13:31.702 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.703 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.703 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:31.711 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.712 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:31.728 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:647 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:31.731 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.732 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.740 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:648 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:13:31.744 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:649 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.746 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.747 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.753 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:650 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.755 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:31.757 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:31.767 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:13:31.768 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@123917d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:13:31.768 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:13:31.768 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:13:31.768 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:13:31.768 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:13:31.769 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:13:31.769 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:13:31.803 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.805 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:31.844 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:651 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:31.848 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.849 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.860 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:652 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.864 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.864 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.875 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:653 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.881 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.881 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:13:31.888 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:654 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:13:31.904 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:13:31.904 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:13:31.916 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:655 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:13:31.944 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:13:31.945 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:31.947 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.947 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:13:31.948 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.950 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:31.951 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:31.958 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.959 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:31.969 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:656 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:31.973 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.973 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:31.980 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:657 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:31.983 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:31.984 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:31.990 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:658 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:31.992 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:31.993 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:31.997 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:13:31.997 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@25c794b5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:13:31.997 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:13:31.997 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:13:31.997 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:13:31.999 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:13:31.999 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:13:31.999 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:13:32.005 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:32.005 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:13:32.012 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:659 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:13:32.017 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:32.017 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:32.022 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:660 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:32.023 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:32.024 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:32.026 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:661 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:32.028 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:32.028 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:13:32.034 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:662 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:13:32.045 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:13:32.046 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:13:32.054 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:663 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:13:36.538 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:13:36.538 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:13:36.538 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:36.538 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:13:36.538 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:36.540 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:13:36.540 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:13:36.543 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:665 created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.543 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:665 Executing (not server cursor) SELECT 1
2025-07-10 19:13:36.544 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:664 created by (SQLServerStatement:665)
2025-07-10 19:13:36.544 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.545 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:36.549 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:665 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:36.550 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.550 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:36.555 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:666 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:36.556 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.556 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:36.559 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:667 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:36.560 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:13:36.560 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:13:36.568 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:13:36.568 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:13:36.568 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:13:36.568 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:13:36.570 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.570 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:13:36.571 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:668 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:13:36.572 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.572 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:13:36.574 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:669 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:13:36.574 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.574 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:36.575 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:670 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:36.575 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:13:36.576 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:13:36.578 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.579 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:13:36.581 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:671 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:13:36.582 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.582 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:13:36.582 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:672 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:13:36.585 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.585 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:13:36.592 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:673 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:13:36.594 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.594 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:13:36.595 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:674 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:13:36.596 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:13:36.596 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:13:36.599 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:675 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:13:36.600 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:13:36.601 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:13:36.605 [http-nio-8080-exec-5] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 19:14:29.462 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:14:29.463 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:29.465 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:29.465 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:14:29.465 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:29.466 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:29.466 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:29.470 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:677 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.479 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:677 Executing (not server cursor) SELECT 1
2025-07-10 19:14:29.481 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:676 created by (SQLServerStatement:677)
2025-07-10 19:14:29.481 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.481 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:29.489 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:677 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:29.490 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.490 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:29.495 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:678 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:29.498 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.499 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:29.504 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:679 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:29.508 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:14:29.508 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:14:29.512 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:14:29.513 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@7c2cdd2c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:14:29.514 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:14:29.514 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:14:29.514 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:14:29.515 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:14:29.515 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:14:29.515 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:14:29.521 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.522 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:14:29.532 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:680 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:14:29.535 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.535 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:29.540 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:681 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:29.544 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.544 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:29.551 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:682 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:29.555 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.555 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:14:29.559 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:683 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:14:29.563 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:29.564 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:14:29.569 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:684 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:14:53.498 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:14:53.498 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:53.500 [http-nio-8080-exec-8] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /api/users/profile, error: Full authentication is required to access this resource
2025-07-10 19:14:53.579 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /favicon.ico
2025-07-10 19:14:53.579 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /favicon.ico, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:53.581 [http-nio-8080-exec-6] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /favicon.ico, error: Full authentication is required to access this resource
2025-07-10 19:14:57.623 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:14:57.623 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:57.625 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:57.625 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:14:57.626 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:57.626 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:57.626 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:57.632 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:686 created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.636 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:686 Executing (not server cursor) SELECT 1
2025-07-10 19:14:57.638 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:685 created by (SQLServerStatement:686)
2025-07-10 19:14:57.638 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.639 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:57.646 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:686 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:57.648 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.648 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:57.653 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:687 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:57.657 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.657 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:57.663 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:688 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:57.666 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:14:57.666 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:14:57.710 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.710 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:14:57.714 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:689 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:14:57.717 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.717 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:57.721 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:690 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:57.724 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.726 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:57.728 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:691 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:57.761 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.762 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:14:57.814 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:692 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:14:57.825 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.827 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:14:57.868 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:693 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:14:57.881 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.882 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:14:57.886 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:694 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:14:57.901 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.903 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:14:57.908 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:695 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:14:57.930 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.933 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:14:57.980 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:696 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:14:57.994 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:57.995 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:14:58.005 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:697 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:14:58.017 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:58.019 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:14:58.022 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:698 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:14:58.028 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:58.029 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:14:58.040 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:699 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:14:58.052 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:58.054 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:14:58.079 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:700 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:14:58.097 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:14:58.098 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:58.100 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.100 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:14:58.100 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.102 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.102 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:58.112 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:702 created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.121 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:702 Executing (not server cursor) SELECT 1
2025-07-10 19:14:58.130 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:701 created by (SQLServerStatement:702)
2025-07-10 19:14:58.133 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.134 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:58.158 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:702 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:58.162 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.162 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:14:58.162 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:58.163 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.164 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.164 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:14:58.165 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.166 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.166 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:58.173 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:703 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.173 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:705 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.175 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.176 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.184 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:705 Executing (not server cursor) SELECT 1
2025-07-10 19:14:58.192 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:704 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.192 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:705 created by (SQLServerStatement:705)
2025-07-10 19:14:58.193 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.194 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:58.196 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:14:58.196 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:14:58.212 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.213 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:14:58.215 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:706 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:58.218 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.219 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.231 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:707 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:14:58.232 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:708 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.233 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.236 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.234 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.240 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.245 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:709 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.250 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.251 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.255 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:711 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.255 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:710 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.264 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:14:58.265 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:14:58.274 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.277 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:14:58.285 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.290 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:14:58.299 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:712 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:14:58.306 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.306 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.308 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:714 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.308 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:713 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:14:58.313 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.316 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.321 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:715 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.321 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.322 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:14:58.335 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.336 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:14:58.348 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:716 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:14:58.357 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.359 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:14:58.378 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:717 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:14:58.388 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.389 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:14:58.392 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:718 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:14:58.399 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.403 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:14:58.436 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:719 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:14:58.444 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:720 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:14:58.447 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.449 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:14:58.466 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:721 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:14:58.475 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.476 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:14:58.479 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:722 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:14:58.486 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.487 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:14:58.504 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:14:58.505 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:58.506 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.507 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:14:58.512 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.512 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:723 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:14:58.515 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.518 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:58.519 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.521 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:14:58.526 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.528 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:58.536 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:724 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:14:58.548 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:725 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:58.552 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.552 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.562 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:726 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.566 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.566 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.573 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:727 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.578 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:14:58.579 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:14:58.583 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:14:58.584 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:58.588 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.589 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:14:58.591 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.591 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.592 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.592 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:14:58.593 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:58.604 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.606 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:58.617 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:728 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:14:58.619 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.620 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.627 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:729 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:58.628 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:730 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.631 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.631 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.632 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.632 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.639 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:731 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.639 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:732 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.644 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.645 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.649 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.651 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:14:58.655 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:733 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.659 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:14:58.660 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:14:58.675 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.687 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:14:58.713 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:734 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:14:58.717 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.718 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.726 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:735 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.730 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.730 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.741 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:736 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.748 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:14:58.749 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:14:58.772 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:737 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:14:58.783 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:738 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:14:58.843 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:14:58.846 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:58.848 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.848 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:14:58.849 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.854 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:58.858 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:58.870 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.872 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:58.885 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:739 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:58.889 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.890 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.899 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:740 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.902 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.903 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.916 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:741 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.921 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:14:58.922 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:14:58.937 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.939 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:14:58.962 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:742 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:14:58.965 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.965 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:14:58.972 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:743 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:14:58.974 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.974 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:14:58.979 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:744 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:14:58.989 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:14:58.990 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:14:59.040 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:745 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:14:59.975 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:14:59.975 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:14:59.976 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:59.976 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:14:59.977 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:59.977 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:14:59.977 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:14:59.979 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:747 created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:59.979 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:747 Executing (not server cursor) SELECT 1
2025-07-10 19:14:59.980 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:746 created by (SQLServerStatement:747)
2025-07-10 19:14:59.980 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:59.980 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:14:59.992 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:747 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:14:59.998 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:14:59.998 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:15:00.003 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:748 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:15:00.006 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:15:00.007 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:15:00.015 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:749 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:15:00.018 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:15:00.019 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:15:00.022 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:15:00.022 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@614b43ea, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:15:00.022 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:15:00.022 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:15:00.022 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:15:00.022 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:15:00.023 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:15:00.023 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:15:00.029 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:15:00.029 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:15:00.033 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:750 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:15:00.034 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:15:00.034 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:15:00.040 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:751 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:15:00.043 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:15:00.043 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:15:00.046 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:752 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:15:00.053 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:15:00.053 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:15:00.058 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:753 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:15:00.070 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:9 ClientConnectionId: 9aadd3bf-c133-4fc3-8588-b39f0a2881e3)
2025-07-10 19:15:00.071 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:15:00.079 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:754 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:15:00.105 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:15:00.105 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:15:00.106 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:15:00.108 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:15:00.110 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:15:00.110 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:15:00.110 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:15:00.117 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:756 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.117 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:756 Executing (not server cursor) SELECT 1
2025-07-10 19:15:00.119 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:755 created by (SQLServerStatement:756)
2025-07-10 19:15:00.119 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.120 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:15:00.132 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:756 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:15:00.135 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.135 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:15:00.147 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:757 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:15:00.150 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.151 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:15:00.161 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:758 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:15:00.165 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:15:00.166 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:15:00.168 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:15:00.170 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@2f6e1d2b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:15:00.170 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:15:00.170 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:15:00.170 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:15:00.170 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:15:00.171 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:15:00.171 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:15:00.178 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.178 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:15:00.190 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:759 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:15:00.193 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.193 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:15:00.200 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:760 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:15:00.202 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.202 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:15:00.208 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:761 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:15:00.212 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.212 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:15:00.215 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:762 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:15:00.221 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:00.221 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:15:00.228 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:763 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:15:03.701 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:15:03.701 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:15:03.702 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:15:03.702 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:15:03.702 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:15:03.703 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:15:03.703 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:15:03.705 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:765 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.705 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:765 Executing (not server cursor) SELECT 1
2025-07-10 19:15:03.706 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:764 created by (SQLServerStatement:765)
2025-07-10 19:15:03.706 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.706 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:15:03.711 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:765 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:15:03.713 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.713 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:15:03.717 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:766 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:15:03.720 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.722 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:15:03.724 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:767 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:15:03.725 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:15:03.725 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:15:03.738 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:15:03.738 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:15:03.739 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:15:03.739 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:15:03.741 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.741 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:15:03.746 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:768 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:15:03.747 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.747 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:15:03.750 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:769 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:15:03.752 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.752 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:15:03.754 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:770 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:15:03.755 [http-nio-8080-exec-6] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:15:03.757 [http-nio-8080-exec-6] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:15:03.758 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.758 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:15:03.762 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:771 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:15:03.763 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.763 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:15:03.766 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:772 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:15:03.769 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.769 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:15:03.773 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:773 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:15:03.776 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.776 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:15:03.779 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:774 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:15:03.781 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:15:03.781 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:15:03.784 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:775 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:15:03.786 [http-nio-8080-exec-6] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:15:03.787 [http-nio-8080-exec-6] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:15:03.790 [http-nio-8080-exec-6] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 19:18:52.935 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:18:52.936 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:52.950 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:52.950 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:18:52.951 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:52.952 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:52.952 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:53.024 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:777 created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.049 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:777 Executing (not server cursor) SELECT 1
2025-07-10 19:18:53.077 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:776 created by (SQLServerStatement:777)
2025-07-10 19:18:53.081 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.085 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:53.167 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:777 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:53.185 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.185 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:53.261 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:778 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:53.266 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.267 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:53.318 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:779 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:53.332 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:53.334 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:53.394 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.394 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:53.418 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:780 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:53.424 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.424 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:53.428 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:781 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:53.431 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.432 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:53.437 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:782 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:53.464 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.465 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:18:53.503 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:783 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:18:53.510 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.512 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:18:53.549 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:784 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:18:53.554 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.556 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:18:53.560 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:785 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:18:53.563 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.564 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:18:53.565 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:786 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:18:53.574 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.574 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:18:53.605 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:787 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:18:53.620 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.621 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:18:53.636 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:788 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:18:53.649 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.649 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:18:53.652 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:789 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:18:53.658 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.659 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:18:53.676 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:790 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:18:53.699 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.701 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:18:53.769 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:791 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:18:53.826 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:18:53.827 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:53.829 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:53.829 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:18:53.830 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:53.831 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:53.831 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:53.839 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:793 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:53.850 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:793 Executing (not server cursor) SELECT 1
2025-07-10 19:18:53.855 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:792 created by (SQLServerStatement:793)
2025-07-10 19:18:53.855 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:18:53.856 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:53.856 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:53.857 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:53.858 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:53.858 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:18:53.860 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:53.861 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:53.862 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:53.875 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.877 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:53.893 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:793 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:53.893 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:794 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:53.896 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:53.896 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.898 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:53.898 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:53.907 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:796 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:53.907 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:795 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:53.909 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.909 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:53.909 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:53.909 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:53.916 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:798 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:53.916 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:797 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:53.918 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:53.918 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:53.920 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:53.920 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:53.938 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:53.938 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:53.939 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:53.939 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:53.957 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:799 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:53.957 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:800 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:53.961 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:53.963 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:53.963 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.169 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:54.171 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:802 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.171 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:801 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.173 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.173 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.173 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.173 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.178 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:803 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.178 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:804 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.186 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.186 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.187 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:18:54.187 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:18:54.200 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:805 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:18:54.205 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.206 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:18:54.226 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:806 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:18:54.235 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.235 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:18:54.236 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:807 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:18:54.239 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.241 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:18:54.242 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:808 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:18:54.245 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.247 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:18:54.250 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:809 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:18:54.273 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:810 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:18:54.280 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.282 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:18:54.311 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:811 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:18:54.315 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:18:54.316 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:54.317 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.317 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:18:54.317 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.320 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.322 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:18:54.322 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.323 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:54.329 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:812 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:18:54.333 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.334 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:54.339 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.341 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:18:54.352 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:814 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:54.352 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:813 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:18:54.358 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.358 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:54.360 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.361 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:18:54.370 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:815 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.374 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.374 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.381 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:816 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:18:54.386 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:817 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.388 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:54.389 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:54.410 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.411 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:54.424 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:18:54.428 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:54.430 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.431 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:18:54.432 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.435 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.439 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:54.442 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:818 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:54.447 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.448 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:54.459 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.460 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:54.469 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:819 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.473 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.475 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.484 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:820 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:54.487 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.488 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:54.497 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:821 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.510 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:54.512 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:18:54.532 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:822 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.537 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.537 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.554 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:823 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.558 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:54.559 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:54.579 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.580 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:54.590 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:824 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:54.596 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.597 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:54.606 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:825 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.610 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.611 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.622 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:826 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.626 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:827 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:18:54.636 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.637 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:18:54.712 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:828 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:18:54.803 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:18:54.803 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:54.805 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.806 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:18:54.806 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.806 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:54.806 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:54.811 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.812 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:54.821 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:829 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:54.823 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.824 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:54.831 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:830 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.833 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.833 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.837 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:831 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.841 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:54.842 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:54.853 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.853 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:54.862 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:832 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:54.864 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.864 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:54.868 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:833 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:54.871 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.871 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:54.873 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:834 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:54.881 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:54.883 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:18:54.925 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:835 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:18:56.754 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:18:56.755 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:56.755 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:56.756 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:18:56.756 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:56.757 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:56.757 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:56.759 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:837 created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.759 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:837 Executing (not server cursor) SELECT 1
2025-07-10 19:18:56.761 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:836 created by (SQLServerStatement:837)
2025-07-10 19:18:56.761 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.762 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:56.767 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:837 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:56.769 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.769 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:56.782 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:838 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:56.786 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.787 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:56.793 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:839 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:56.794 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:56.795 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@7c5204d1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:18:56.797 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:18:56.801 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.801 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:56.804 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:840 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:56.805 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.805 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:56.806 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:841 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:56.807 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.807 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:56.809 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:842 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:56.812 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.812 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:18:56.815 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:843 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:18:56.822 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:18:56.823 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:18:56.833 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:844 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:18:56.853 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:18:56.854 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:18:56.854 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:56.854 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:18:56.855 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:56.856 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:18:56.856 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:18:56.861 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:846 created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.861 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:846 Executing (not server cursor) SELECT 1
2025-07-10 19:18:56.862 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:845 created by (SQLServerStatement:846)
2025-07-10 19:18:56.863 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.864 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:18:56.871 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:846 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:18:56.872 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.872 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:56.876 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:847 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:56.878 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.878 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:56.883 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:848 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:56.885 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:18:56.885 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:18:56.892 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:18:56.892 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@5572fb3a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:18:56.893 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:18:56.893 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:18:56.893 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:18:56.893 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:18:56.893 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:18:56.893 [http-nio-8080-exec-2] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:18:56.904 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.904 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:18:56.910 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:849 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:18:56.912 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.912 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:18:56.914 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:850 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:18:56.916 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.916 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:18:56.919 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:851 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:18:56.921 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.921 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:18:56.926 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:852 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:18:56.934 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:7 ClientConnectionId: 258fa1dc-d9ef-41c1-a4f3-019bbd62e84f)
2025-07-10 19:18:56.934 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:18:56.941 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:853 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:19:01.260 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:19:01.260 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:19:01.264 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:19:01.265 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:19:01.265 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:19:01.265 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:19:01.265 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:19:01.268 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:855 created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.268 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:855 Executing (not server cursor) SELECT 1
2025-07-10 19:19:01.269 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:854 created by (SQLServerStatement:855)
2025-07-10 19:19:01.269 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.269 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:19:01.272 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:855 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:19:01.273 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.274 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:19:01.276 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:856 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:19:01.278 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.279 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:19:01.280 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:857 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:19:01.281 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:19:01.281 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:19:01.290 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:19:01.290 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:19:01.290 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:19:01.290 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:19:01.293 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.294 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:19:01.300 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:858 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:19:01.301 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.302 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:19:01.304 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:859 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:19:01.304 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.304 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:19:01.306 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:860 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:19:01.307 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:19:01.308 [http-nio-8080-exec-8] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:19:01.311 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.311 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:19:01.315 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:861 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:19:01.317 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.317 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:19:01.320 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:862 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:19:01.325 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.326 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:19:01.335 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:863 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:19:01.339 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.339 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:19:01.343 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:864 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:19:01.353 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:8 ClientConnectionId: 7314fac8-fbbe-4349-b421-5fce43bba8c0)
2025-07-10 19:19:01.354 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:19:01.357 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:865 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:19:01.358 [http-nio-8080-exec-8] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:19:01.360 [http-nio-8080-exec-8] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:19:01.363 [http-nio-8080-exec-8] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 19:20:17.876 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:20:17.876 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:20:17.876 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:20:17.877 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:20:17.877 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:20:17.877 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:20:17.878 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:14 created by (SQLServerDriver:1)
2025-07-10 19:20:17.880 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:14 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:20:17.900 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:14 ClientConnectionId: 93970fb4-7a54-4086-b192-40c48572aec0 Server returned major version:16
2025-07-10 19:20:31.400 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:20:31.400 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:20:31.400 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:20:31.400 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:20:31.400 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:20:31.400 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:20:31.400 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:15 created by (SQLServerDriver:1)
2025-07-10 19:20:31.401 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:15 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:20:31.402 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:15 ClientConnectionId: 92bf2338-bcf2-4c9c-80df-4d9f15eee649 Server returned major version:16
2025-07-10 19:20:33.240 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:20:33.241 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:20:33.241 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:20:33.241 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:20:33.241 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:20:33.241 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:20:33.241 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:16 created by (SQLServerDriver:1)
2025-07-10 19:20:33.241 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:16 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:20:33.242 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:16 ClientConnectionId: 578a055e-d1cc-4361-8f05-f0e293557c2c Server returned major version:16
2025-07-10 19:22:16.397 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-07-10 19:24:07.219 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-10 19:24:07.371 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-10 19:24:07.390 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:24:07.415 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-10 19:24:07.419 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-10 19:24:07.456 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-10 19:24:07.457 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d7368e5]]
2025-07-10 19:24:07.457 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-10 19:24:09.621 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 30740 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 19:24:09.623 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 19:24:09.624 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 19:24:10.800 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 19:24:10.968 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 166 ms. Found 33 JPA repository interfaces.
2025-07-10 19:24:11.403 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 19:24:11.405 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 19:24:11.414 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 19:24:11.415 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:24:11.416 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 19:24:11.416 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 19:24:11.488 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 19:24:11.488 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1856 ms
2025-07-10 19:24:11.731 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 19:24:11.734 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 19:24:11.756 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:24:11.757 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:24:11.757 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:17 created by (SQLServerDriver:1)
2025-07-10 19:24:11.759 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:17 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:24:11.764 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9 Server returned major version:16
2025-07-10 19:24:11.791 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:867 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:24:11.791 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:867 Executing (not server cursor) SELECT 1
2025-07-10 19:24:11.794 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:866 created by (SQLServerStatement:867)
2025-07-10 19:24:11.795 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:2 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:24:11.796 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:868 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:24:11.796 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:868 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 19:24:11.899 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:24:11.899 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:24:11.899 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:24:11.900 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:24:11.900 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:24:11.900 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:24:11.900 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:18 created by (SQLServerDriver:1)
2025-07-10 19:24:11.900 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:18 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:24:11.901 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a Server returned major version:16
2025-07-10 19:24:11.928 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:867 created by (SQLServerStatement:868)
2025-07-10 19:24:11.929 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 19:24:11.930 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:869 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:24:11.930 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:869 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:24:11.931 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:868 created by (SQLServerStatement:869)
2025-07-10 19:24:11.931 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:870 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:24:11.931 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:870 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:24:11.932 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:869 created by (SQLServerStatement:870)
2025-07-10 19:24:11.933 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:3 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:24:11.933 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:4 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:24:11.933 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 19:24:11.961 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:24:11.961 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:24:11.961 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:24:11.961 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:24:11.961 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:24:11.961 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:24:11.961 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:19 created by (SQLServerDriver:1)
2025-07-10 19:24:11.962 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:19 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:24:11.963 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8 Server returned major version:16
2025-07-10 19:24:12.023 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:24:12.023 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:24:12.023 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:24:12.023 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:24:12.024 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:24:12.024 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:24:12.024 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:20 created by (SQLServerDriver:1)
2025-07-10 19:24:12.024 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:20 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:24:12.026 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:20 ClientConnectionId: e6301352-b3cf-4c7a-a70a-8a91069cb99d Server returned major version:16
2025-07-10 19:24:12.085 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:24:12.085 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:24:12.085 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:24:12.085 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:24:12.085 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:24:12.086 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:24:12.086 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:21 created by (SQLServerDriver:1)
2025-07-10 19:24:12.086 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:21 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:24:12.087 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:21 ClientConnectionId: 8c3d8238-5a8a-41c1-8620-95aec6b0981d Server returned major version:16
2025-07-10 19:24:12.637 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 19:24:12.720 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 19:24:12.871 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 19:24:12.908 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 19:24:14.525 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 19:24:15.473 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 19:24:15.494 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 19:24:15.544 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 19:24:15.906 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 19:24:15.927 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 19:24:15.927 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3d4671f9]]
2025-07-10 19:24:15.927 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 19:24:15.927 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 19:24:15.933 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-10 19:24:15.954 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Started CarRentalApplication in 6.548 seconds (process running for 3792.31)
2025-07-10 19:24:15.957 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-10 19:25:15.920 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-07-10 19:28:15.789 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-10 19:28:15.789 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-10 19:28:15.792 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-10 19:28:15.836 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:28:15.852 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:15.871 [http-nio-8080-exec-1] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /api/users/profile, error: Full authentication is required to access this resource
2025-07-10 19:28:15.970 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /favicon.ico
2025-07-10 19:28:15.971 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /favicon.ico, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:15.972 [http-nio-8080-exec-2] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /favicon.ico, error: Full authentication is required to access this resource
2025-07-10 19:28:18.784 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:28:18.785 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:18.789 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:18.790 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:28:18.791 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:18.794 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:18.798 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:18.880 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:871 created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:18.887 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:871 Executing (not server cursor) SELECT 1
2025-07-10 19:28:18.894 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:870 created by (SQLServerStatement:871)
2025-07-10 19:28:18.895 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:18.897 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:18.974 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:871 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:18.995 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:18.999 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:19.046 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:872 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:19.056 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.057 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:19.087 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:873 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:19.116 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:19.120 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:19.171 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.172 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:19.193 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:874 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:19.199 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.201 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:19.217 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:875 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:19.225 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.227 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:19.237 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:876 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:19.286 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.286 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:28:19.345 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:877 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:28:19.353 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.357 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:28:19.427 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:878 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:28:19.435 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.436 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:28:19.440 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:879 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:28:19.451 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.453 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:28:19.457 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:880 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:28:19.473 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.474 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:28:19.515 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:881 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:28:19.526 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.527 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:28:19.548 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:882 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:28:19.561 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.562 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:28:19.578 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:883 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:28:19.591 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.594 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:28:19.644 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:884 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:28:19.663 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.664 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:28:19.708 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:885 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:28:19.783 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:28:19.788 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:19.796 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:19.802 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:28:19.808 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:19.815 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:19.819 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:19.848 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.851 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:19.864 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:28:19.865 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:19.867 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:19.868 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:28:19.869 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:19.873 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:19.874 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:19.889 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:888 created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:19.897 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:888 Executing (not server cursor) SELECT 1
2025-07-10 19:28:19.950 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:886 created by (SQLServerStatement:888)
2025-07-10 19:28:19.952 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:19.953 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:19.954 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:887 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:19.967 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:888 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:19.972 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:19.972 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:19.973 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:19.973 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.017 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:889 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.017 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:890 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.019 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.019 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.021 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.022 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.034 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:892 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.034 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:891 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.037 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:20.038 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:20.038 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:20.039 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:20.051 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.052 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:20.054 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.055 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:20.103 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:893 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:20.107 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.108 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.112 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:894 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:20.119 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.121 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.150 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:895 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.155 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.156 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.188 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:896 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.197 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.207 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.227 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:898 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.227 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:897 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.258 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.261 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:28:20.263 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.267 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:28:20.322 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:899 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:28:20.332 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.334 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:28:20.357 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:900 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:28:20.369 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.373 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:28:20.387 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:901 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:28:20.394 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.396 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:28:20.406 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:902 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:28:20.420 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.422 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:28:20.448 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:903 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:28:20.452 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:904 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:28:20.465 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.466 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:28:20.499 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:905 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:28:20.510 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.511 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:28:20.522 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:906 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:28:20.530 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.534 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:28:20.580 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:28:20.581 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:20.583 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.584 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:28:20.584 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:907 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:28:20.585 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.587 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.587 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:20.589 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.590 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:28:20.594 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:28:20.596 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:20.597 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.598 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:20.599 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.599 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:28:20.600 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.600 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.601 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:20.611 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:911 created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.626 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:911 Executing (not server cursor) SELECT 1
2025-07-10 19:28:20.626 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:908 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:20.630 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:909 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:28:20.634 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.635 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.638 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:910 created by (SQLServerStatement:911)
2025-07-10 19:28:20.641 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.643 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:20.665 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:911 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.670 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:912 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:20.671 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.673 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.678 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.679 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.681 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:28:20.682 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:20.686 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.687 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:28:20.689 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.691 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.692 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:20.700 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:913 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.701 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.703 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:20.705 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.707 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.708 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:914 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.712 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:915 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:20.712 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:20.713 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:916 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.714 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:20.718 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.719 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:20.720 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.721 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:20.727 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:28:20.728 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@6b6ac581, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:28:20.730 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:28:20.730 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:28:20.730 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:28:20.730 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:28:20.731 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:917 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.731 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:28:20.732 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:28:20.736 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.737 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.742 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:918 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.744 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.745 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:20.753 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:20.754 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:20.757 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.758 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:20.770 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.771 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:20.784 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:919 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:20.789 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.790 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:920 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:20.790 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.793 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:921 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.794 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.795 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.795 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:922 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:20.798 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.798 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.799 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.799 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.801 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:923 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.803 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:924 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.807 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.808 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.808 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.809 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:28:20.811 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:925 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.817 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.818 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.820 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:926 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:28:20.838 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.839 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:28:20.853 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:927 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.856 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:928 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:28:20.868 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:20.869 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:28:20.870 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:929 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:20.894 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:19 ClientConnectionId: c6b38d80-62fd-403d-85e5-44c277e4b3f8)
2025-07-10 19:28:20.896 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:28:20.928 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:28:20.928 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:20.930 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.933 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:28:20.937 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.939 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:20.939 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:20.949 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.951 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:20.971 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:930 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:20.976 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.978 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:20.985 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:931 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:20.990 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:20.991 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:20.997 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:932 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:21.003 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:21.004 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:21.010 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:28:21.011 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@db2460a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:28:21.012 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:28:21.012 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:28:21.013 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:28:21.013 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:28:21.013 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:28:21.013 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:28:21.019 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:933 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:28:21.025 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:21.027 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:21.036 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:934 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:21.042 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:21.043 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:21.046 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:935 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:21.051 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:21.052 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:21.053 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:937 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:21.052 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:936 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:28:21.056 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:21.056 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:28:21.062 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:938 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:28:21.072 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:21.073 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:28:21.088 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:939 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:28:21.092 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:28:21.092 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:21.094 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:21.094 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:28:21.095 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:21.097 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:21.098 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:21.106 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:21.107 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:21.119 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:940 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:21.125 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:21.126 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:21.130 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:941 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:21.133 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:21.133 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:21.139 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:942 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:21.144 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:21.145 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:21.156 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:21.157 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:28:21.171 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:943 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:28:21.174 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:21.175 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:21.183 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:944 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:21.185 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:21.186 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:21.190 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:945 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:21.199 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:17 ClientConnectionId: 5dd2e7ca-045c-42f1-9e54-e5e0625ae8d9)
2025-07-10 19:28:21.200 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:28:21.238 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:946 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:28:27.217 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:28:27.218 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:28:27.219 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:27.219 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:28:27.219 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:27.219 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:28:27.219 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:28:27.223 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:948 created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.223 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:948 Executing (not server cursor) SELECT 1
2025-07-10 19:28:27.224 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:947 created by (SQLServerStatement:948)
2025-07-10 19:28:27.224 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.224 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:27.228 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:948 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:27.229 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.229 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:27.231 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:949 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:27.232 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.232 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:27.234 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:950 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:27.236 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:28:27.236 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:28:27.276 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:28:27.276 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:28:27.277 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:28:27.277 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:28:27.280 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.280 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:28:27.281 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:951 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:28:27.282 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.282 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:28:27.282 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:952 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:28:27.283 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.283 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:27.283 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:953 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:27.284 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:28:27.286 [http-nio-8080-exec-3] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:28:27.287 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.287 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:28:27.290 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:954 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:28:27.291 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.291 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:28:27.291 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:955 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:28:27.298 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.298 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:28:27.307 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:956 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:28:27.314 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.314 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:28:27.315 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:957 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:28:27.317 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:18 ClientConnectionId: db76c4bb-acca-4f5c-8460-bad53eb1ae7a)
2025-07-10 19:28:27.317 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:28:27.320 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:958 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:28:27.322 [http-nio-8080-exec-3] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:28:27.325 [http-nio-8080-exec-3] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:28:27.330 [http-nio-8080-exec-3] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy6/jdk.proxy6.$Proxy244.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:200)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 19:28:46.988 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-10 19:28:47.060 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 14088 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 19:28:47.061 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 19:28:47.062 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 19:28:47.119 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-10 19:28:47.119 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-10 19:28:48.916 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 19:28:49.224 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 299 ms. Found 33 JPA repository interfaces.
2025-07-10 19:28:50.459 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 19:28:50.463 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 19:28:50.484 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 19:28:50.497 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:28:50.502 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 19:28:50.502 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 19:28:50.578 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 19:28:50.579 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3459 ms
2025-07-10 19:28:51.230 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 19:28:51.312 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-07-10 19:28:51.359 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 19:28:51.751 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:28:51.752 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:28:51.753 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:28:51.753 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:28:51.754 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:28:51.762 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:28:51.763 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:28:51.763 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:28:51.763 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:28:51.763 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:28:51.764 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:28:51.815 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 created by (SQLServerDriver:1)
2025-07-10 19:28:51.822 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 Connecting with server: localhost port: 1433 Timeout slice: 3749 Timeout Full: 30
2025-07-10 19:28:51.885 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42 Server returned major version:16
2025-07-10 19:28:52.141 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 created by (ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42)
2025-07-10 19:28:52.143 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 Executing (not server cursor) SELECT 1
2025-07-10 19:28:52.196 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:1 created by (SQLServerStatement:1)
2025-07-10 19:28:52.211 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:1 created by (ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42)
2025-07-10 19:28:52.234 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 created by (ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42)
2025-07-10 19:28:52.236 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 19:28:52.319 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:28:52.319 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:28:52.319 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:28:52.319 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:28:52.320 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:28:52.320 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:28:52.320 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 created by (SQLServerDriver:1)
2025-07-10 19:28:52.320 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:28:52.322 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 ClientConnectionId: 231b1bd9-bd4d-4f47-9133-b2410aa712d5 Server returned major version:16
2025-07-10 19:28:52.335 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:2 created by (SQLServerStatement:2)
2025-07-10 19:28:52.370 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 19:28:52.388 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 created by (ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42)
2025-07-10 19:28:52.389 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:28:52.392 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:3 created by (SQLServerStatement:3)
2025-07-10 19:28:52.393 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:28:52.393 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:28:52.393 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:28:52.394 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:28:52.394 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 created by (ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42)
2025-07-10 19:28:52.394 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:28:52.394 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:28:52.394 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:28:52.394 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 created by (SQLServerDriver:1)
2025-07-10 19:28:52.395 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:28:52.396 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:4 created by (SQLServerStatement:4)
2025-07-10 19:28:52.397 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 ClientConnectionId: a7f66b1b-65ef-42dd-9820-2145ee06c0c3 Server returned major version:16
2025-07-10 19:28:52.413 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:1 created by (ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42)
2025-07-10 19:28:52.417 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:2 created by (ConnectionID:1 ClientConnectionId: e0e181ab-f63c-4952-9da1-1cd3d1b84f42)
2025-07-10 19:28:52.443 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 19:28:52.473 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:28:52.473 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:28:52.473 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:28:52.473 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:28:52.473 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:28:52.473 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:28:52.474 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 created by (SQLServerDriver:1)
2025-07-10 19:28:52.475 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:28:52.477 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 ClientConnectionId: 3d077c74-29e9-444a-ab92-23f6c9da8fff Server returned major version:16
2025-07-10 19:28:52.546 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:28:52.546 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:28:52.546 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:28:52.548 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:28:52.548 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:28:52.548 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:28:52.548 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 created by (SQLServerDriver:1)
2025-07-10 19:28:52.548 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:28:52.549 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 ClientConnectionId: 5e018dc8-5eac-4558-892c-05865d210a9c Server returned major version:16
2025-07-10 19:28:53.885 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 19:28:54.034 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 19:28:54.363 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-10 19:28:55.560 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 19:28:55.633 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 19:28:58.764 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 19:28:59.872 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 19:28:59.898 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 19:28:59.966 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 19:29:00.729 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 19:29:00.810 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 19:29:00.811 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d8978d8]]
2025-07-10 19:29:00.812 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 19:29:00.815 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 19:29:00.862 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-10 19:29:00.877 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Started CarRentalApplication in 14.336 seconds (process running for 14.937)
2025-07-10 19:30:00.764 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-07-10 19:43:17.407 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-10 19:43:17.591 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-10 19:43:17.610 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:43:17.650 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-10 19:43:17.653 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-10 19:43:17.671 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-10 19:43:17.672 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4d8978d8]]
2025-07-10 19:43:17.673 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-10 19:43:19.081 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 14088 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 19:43:19.082 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 19:43:19.083 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 19:43:20.173 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 19:43:20.461 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 285 ms. Found 33 JPA repository interfaces.
2025-07-10 19:43:21.126 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 19:43:21.127 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 19:43:21.138 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 19:43:21.139 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:43:21.139 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 19:43:21.140 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 19:43:21.179 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 19:43:21.180 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2087 ms
2025-07-10 19:43:21.347 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 19:43:21.350 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:43:21.375 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:43:21.375 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:43:21.377 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 created by (SQLServerDriver:1)
2025-07-10 19:43:21.377 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:43:21.390 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62 Server returned major version:16
2025-07-10 19:43:21.562 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 created by (ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62)
2025-07-10 19:43:21.562 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 Executing (not server cursor) SELECT 1
2025-07-10 19:43:21.566 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:5 created by (SQLServerStatement:5)
2025-07-10 19:43:21.567 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:2 created by (ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62)
2025-07-10 19:43:21.568 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:6 created by (ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62)
2025-07-10 19:43:21.568 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:6 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 19:43:21.672 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:43:21.672 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:43:21.672 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:43:21.672 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:43:21.672 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:43:21.672 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:43:21.672 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 created by (SQLServerDriver:1)
2025-07-10 19:43:21.673 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:43:21.673 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 ClientConnectionId: 47593aa4-a3d1-4feb-9622-b9474335c9af Server returned major version:16
2025-07-10 19:43:21.685 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:6 created by (SQLServerStatement:6)
2025-07-10 19:43:21.687 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 19:43:21.687 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:7 created by (ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62)
2025-07-10 19:43:21.687 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:7 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:43:21.688 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:7 created by (SQLServerStatement:7)
2025-07-10 19:43:21.689 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:8 created by (ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62)
2025-07-10 19:43:21.689 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:8 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:43:21.690 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:8 created by (SQLServerStatement:8)
2025-07-10 19:43:21.690 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:3 created by (ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62)
2025-07-10 19:43:21.690 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:4 created by (ConnectionID:6 ClientConnectionId: e76080df-d66f-4497-93df-712f4468ea62)
2025-07-10 19:43:21.691 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 19:43:21.733 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:43:21.733 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:43:21.733 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:43:21.733 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:43:21.733 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:43:21.733 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:43:21.733 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 created by (SQLServerDriver:1)
2025-07-10 19:43:21.734 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:43:21.735 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 ClientConnectionId: bb3cac61-0a2e-4b15-bb9c-af890e08c36b Server returned major version:16
2025-07-10 19:43:21.796 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:43:21.796 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:43:21.796 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:43:21.796 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:43:21.796 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:43:21.796 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:43:21.797 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 created by (SQLServerDriver:1)
2025-07-10 19:43:21.797 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:43:21.798 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 ClientConnectionId: 5c47d679-6d12-4cdd-9d42-98fb37fc1df2 Server returned major version:16
2025-07-10 19:43:21.858 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:43:21.858 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:43:21.859 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:43:21.859 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:43:21.859 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:43:21.859 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:43:21.859 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 created by (SQLServerDriver:1)
2025-07-10 19:43:21.860 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:43:21.860 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 ClientConnectionId: 90a11db7-6b54-4c15-bad6-42fc65fd9f76 Server returned major version:16
2025-07-10 19:43:22.191 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 19:43:22.258 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 19:43:22.368 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 19:43:22.384 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 19:43:23.834 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 19:43:24.838 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 19:43:24.867 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 19:43:24.931 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 19:43:25.279 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 19:43:25.307 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 19:43:25.308 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5180e954]]
2025-07-10 19:43:25.308 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 19:43:25.309 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 19:43:25.321 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-10 19:43:25.351 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Started CarRentalApplication in 6.438 seconds (process running for 879.411)
2025-07-10 19:43:25.358 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-10 19:44:25.314 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-07-10 19:45:07.081 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-10 19:45:07.178 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 5876 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 19:45:07.180 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 19:45:07.181 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 19:45:07.256 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-10 19:45:07.256 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-10 19:45:09.052 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 19:45:09.564 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 492 ms. Found 33 JPA repository interfaces.
2025-07-10 19:45:13.021 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 19:45:13.031 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 19:45:13.067 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 19:45:13.150 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:45:13.161 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 19:45:13.163 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 19:45:13.312 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 19:45:13.315 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6056 ms
2025-07-10 19:45:14.263 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 19:45:14.377 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-07-10 19:45:14.451 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 19:45:15.133 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:45:15.134 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:45:15.136 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:45:15.137 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:45:15.138 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:45:15.158 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:45:15.160 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:45:15.161 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:45:15.162 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:45:15.163 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:45:15.163 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:45:15.240 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 created by (SQLServerDriver:1)
2025-07-10 19:45:15.248 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 Connecting with server: localhost port: 1433 Timeout slice: 3749 Timeout Full: 30
2025-07-10 19:45:15.342 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad Server returned major version:16
2025-07-10 19:45:15.658 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:15.666 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 Executing (not server cursor) SELECT 1
2025-07-10 19:45:15.727 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:1 created by (SQLServerStatement:1)
2025-07-10 19:45:15.748 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:1 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:15.768 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:15.769 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 19:45:15.833 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:2 created by (SQLServerStatement:2)
2025-07-10 19:45:15.845 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:45:15.845 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:45:15.846 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:45:15.846 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:45:15.846 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:45:15.846 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:45:15.847 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 created by (SQLServerDriver:1)
2025-07-10 19:45:15.847 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:45:15.848 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2 Server returned major version:16
2025-07-10 19:45:15.852 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 19:45:15.863 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:15.865 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:45:15.867 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:3 created by (SQLServerStatement:3)
2025-07-10 19:45:15.870 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:15.872 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:45:15.875 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:4 created by (SQLServerStatement:4)
2025-07-10 19:45:15.892 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:1 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:15.895 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:2 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:15.910 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 19:45:15.921 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:45:15.921 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:45:15.921 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:45:15.921 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:45:15.921 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:45:15.922 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:45:15.922 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 created by (SQLServerDriver:1)
2025-07-10 19:45:15.922 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:45:15.926 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb Server returned major version:16
2025-07-10 19:45:15.998 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:45:15.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:45:15.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:45:15.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:45:15.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:45:15.999 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:45:15.999 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 created by (SQLServerDriver:1)
2025-07-10 19:45:15.999 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:45:16.001 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0 Server returned major version:16
2025-07-10 19:45:16.077 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:45:16.077 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:45:16.077 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:45:16.079 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:45:16.079 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:45:16.079 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:45:16.079 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 created by (SQLServerDriver:1)
2025-07-10 19:45:16.079 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:45:16.080 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 ClientConnectionId: 1d853581-e941-4fee-9a95-47f37ff32d83 Server returned major version:16
2025-07-10 19:45:17.485 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 19:45:17.652 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 19:45:17.914 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-10 19:45:19.175 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 19:45:19.245 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 19:45:22.667 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 19:45:24.020 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 19:45:24.055 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 19:45:24.167 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 19:45:25.044 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 19:45:25.180 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 19:45:25.181 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5f66ff0d]]
2025-07-10 19:45:25.183 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 19:45:25.184 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 19:45:25.243 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-10 19:45:25.260 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Started CarRentalApplication in 18.907 seconds (process running for 19.38)
2025-07-10 19:45:25.365 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-10 19:45:25.366 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-10 19:45:25.368 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-10 19:45:25.455 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:25.455 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:25.455 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:25.455 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:25.455 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:25.455 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:25.455 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:25.457 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:25.519 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.519 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.519 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.519 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.520 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:25.520 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:25.520 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:25.520 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:25.520 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.520 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.520 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.520 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.521 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.521 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.521 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.521 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:25.522 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:25.522 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:25.522 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:25.522 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:25.697 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:6 created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:25.697 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:25.697 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:7 created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:25.697 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:8 created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:25.697 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:6 Executing (not server cursor) SELECT 1
2025-07-10 19:45:25.697 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 Executing (not server cursor) SELECT 1
2025-07-10 19:45:25.697 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:7 Executing (not server cursor) SELECT 1
2025-07-10 19:45:25.699 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:8 Executing (not server cursor) SELECT 1
2025-07-10 19:45:25.700 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:8 created by (SQLServerStatement:7)
2025-07-10 19:45:25.700 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:6 created by (SQLServerStatement:8)
2025-07-10 19:45:25.700 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:5 created by (SQLServerStatement:6)
2025-07-10 19:45:25.700 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:7 created by (SQLServerStatement:5)
2025-07-10 19:45:25.711 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:25.711 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:25.711 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:25.711 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:25.751 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:25.751 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:25.751 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:25.751 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:25.836 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:10 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:25.836 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:11 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:25.836 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:9 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:25.837 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:12 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:25.884 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:25.884 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:25.884 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:25.884 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:25.885 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:25.885 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:25.885 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:25.885 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:25.896 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:16 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:25.896 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:13 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:25.896 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:14 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:25.896 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:15 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:25.914 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:25.914 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:25.914 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:25.914 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:25.915 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:25.915 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:25.915 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:25.915 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:25.925 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:17 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:25.925 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:18 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:25.925 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:19 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:25.925 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:20 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:25.950 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:25.950 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:25.950 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:25.950 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:25.953 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:25.953 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:25.953 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:25.953 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:26.010 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:26.010 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@2bcf29f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:26.011 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:26.011 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:26.011 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:26.011 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:26.011 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 127.0.0.1
2025-07-10 19:45:26.012 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:26.014 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.014 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.015 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.015 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.023 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:22 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.023 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:21 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.024 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.024 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.025 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.025 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.031 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:24 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.031 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:23 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.035 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.035 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.035 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.035 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.035 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.035 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.040 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:25 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.041 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:27 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.041 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:26 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.045 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.046 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.051 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:28 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.055 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.057 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.059 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:29 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.066 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.067 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:26.073 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.074 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.075 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:26.076 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:26.079 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:30 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:26.085 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:26.086 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.089 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.090 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:26.091 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.092 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.093 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:26.104 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.106 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:26.107 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:31 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:26.118 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:32 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:26.121 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.123 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.123 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:26.123 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.129 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:33 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.134 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.134 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.134 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.134 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:26.135 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:34 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:26.139 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:35 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.144 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:26.144 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:26.145 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.146 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:26.150 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:36 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:26.166 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:37 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:26.176 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.178 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:26.183 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:38 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:26.190 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:39 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:26.212 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.214 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:26.268 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:40 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:26.284 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.285 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:26.301 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:41 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:26.307 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.308 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:26.309 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:42 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:26.322 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:26.324 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.324 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.326 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.326 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:26.327 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:26.328 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.330 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.330 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:26.341 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.343 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:26.355 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:43 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:26.356 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:26.356 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.358 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.358 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:26.358 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.360 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.361 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:26.369 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.370 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:44 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:26.372 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:26.374 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.374 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.376 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:26.376 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.385 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:45 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:26.393 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.394 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.396 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:46 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.399 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:47 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.401 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.403 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.405 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.406 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.416 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:49 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.416 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:48 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.420 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:26.420 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:26.422 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:26.422 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:26.428 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:26.430 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@1b6c8bd2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:26.431 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:26.431 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:26.431 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:26.431 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:26.432 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 127.0.0.1
2025-07-10 19:45:26.432 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:26.435 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:50 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:26.436 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.436 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.442 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.443 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.462 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:26.462 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:51 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.463 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.465 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.466 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:26.466 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.467 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.468 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.469 [http-nio-8080-exec-2] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.471 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:26.472 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:52 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.476 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.477 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.477 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.478 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:26.478 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:54 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.478 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:53 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.480 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.480 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.482 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.482 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.490 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:55 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.494 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:57 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.494 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:56 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:26.499 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.500 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.502 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:26.502 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.503 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:26.503 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:26.509 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:58 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:26.509 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:59 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.513 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.514 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.516 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:60 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.517 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.518 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:26.521 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:26.521 [http-nio-8080-exec-2] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:26.531 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:61 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:26.538 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.539 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.547 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:62 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.549 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 19:45:26.549 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /ws-chat/info
2025-07-10 19:45:26.551 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.551 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /ws-chat/info, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.557 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.559 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.559 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:26.561 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.563 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:63 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.563 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.564 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:26.566 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.568 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.569 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.570 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:26.570 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.570 [http-nio-8080-exec-7] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 19:45:26.570 [http-nio-8080-exec-3] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /ws-chat/info, error: Full authentication is required to access this resource
2025-07-10 19:45:26.574 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:64 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.580 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.580 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:26.587 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:65 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:26.589 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.590 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:26.593 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.594 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.597 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:66 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.603 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.604 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:67 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:26.605 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.607 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:68 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:26.610 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:69 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.614 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:26.616 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.617 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:26.618 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:26.625 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:26.630 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@3796dfad, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:26.631 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:26.631 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:26.632 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:26.632 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:26.632 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:45:26.632 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:26.654 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.655 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.672 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:70 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:26.683 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:71 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.683 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.684 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:26.686 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.688 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.695 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:72 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:26.704 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:73 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.704 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.707 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:26.710 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.714 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.721 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:74 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:26.726 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:75 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.734 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.737 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.739 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:26.739 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:26.752 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:76 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:26.765 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:26.765 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:77 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:26.766 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:26.778 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.779 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:78 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:26.779 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:26.794 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:79 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:26.808 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.810 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:26.810 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:26.810 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:26.811 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.811 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:26.811 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:80 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:26.812 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.812 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:26.812 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:26.816 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.817 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:26.818 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:82 created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.818 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:82 Executing (not server cursor) SELECT 1
2025-07-10 19:45:26.822 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:81 created by (SQLServerStatement:82)
2025-07-10 19:45:26.823 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.825 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:26.833 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:82 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:26.839 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:83 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:26.841 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:26.843 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:26.844 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.845 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.856 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:84 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.863 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.864 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.865 [http-nio-8080-exec-2] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:85 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:26.872 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:86 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.878 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:26.878 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:26.885 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:26.886 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@25cb2443, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:26.887 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:26.887 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:26.887 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:26.887 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:26.887 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 127.0.0.1
2025-07-10 19:45:26.887 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:26.906 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.908 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:26.919 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:87 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:26.921 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.922 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:26.933 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:88 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:26.937 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.938 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:26.944 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:89 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:26.953 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.954 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:26.962 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:90 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:26.970 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:26.971 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:26.984 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:91 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:28.018 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:28.018 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:28.018 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:28.019 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:28.019 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:28.019 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:28.020 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.020 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.020 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.020 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:28.020 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:28.020 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:28.020 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.020 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.020 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.021 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.021 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.021 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.021 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:28.021 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:28.021 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:28.025 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:92 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.025 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:93 created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.025 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:94 created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.025 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:93 Executing (not server cursor) SELECT 1
2025-07-10 19:45:28.025 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:92 Executing (not server cursor) SELECT 1
2025-07-10 19:45:28.025 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:94 Executing (not server cursor) SELECT 1
2025-07-10 19:45:28.026 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:92 created by (SQLServerStatement:93)
2025-07-10 19:45:28.026 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:94 created by (SQLServerStatement:92)
2025-07-10 19:45:28.026 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:93 created by (SQLServerStatement:94)
2025-07-10 19:45:28.026 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.026 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.026 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.026 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:28.026 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:28.026 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:28.036 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:95 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:28.041 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.041 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:96 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:28.042 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.042 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:97 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:28.045 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.045 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.045 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.045 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.050 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:100 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.050 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:99 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.050 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:98 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.053 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.053 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.053 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.054 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.054 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.054 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.059 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:102 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.059 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:103 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.059 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:101 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.062 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:28.062 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:28.062 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:28.064 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:28.064 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:28.064 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:28.079 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.079 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.080 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:28.080 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:28.082 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:28.082 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:28.084 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.085 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:28.086 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:105 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:28.086 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:104 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:28.088 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.088 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.089 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.089 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.089 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:28.089 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.089 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.093 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:106 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.093 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:107 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.099 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.099 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.100 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:110 created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:28.100 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.100 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:110 Executing (not server cursor) SELECT 1
2025-07-10 19:45:28.100 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.106 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:108 created by (SQLServerStatement:110)
2025-07-10 19:45:28.106 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:109 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.107 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:110 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.107 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:28.107 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:28.116 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.117 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.118 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:28.118 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:28.120 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:111 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:28.127 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:28.128 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.136 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:112 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.142 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:28.143 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.149 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:113 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.156 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:28.156 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:114 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:28.157 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:28.162 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.163 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:28.178 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:115 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:28.188 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.189 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:28.192 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:116 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:28.201 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.204 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:28.224 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:117 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:28.224 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:118 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:28.237 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.237 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:28.246 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:28.247 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:28.249 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.250 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:28.251 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.251 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.251 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:28.258 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:119 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:28.259 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.260 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:28.267 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.268 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:28.272 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:120 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:28.276 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.277 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.283 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:121 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:28.285 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:122 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.287 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.288 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.289 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.289 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:28.295 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:123 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.300 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:28.301 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:28.306 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:124 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:28.308 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.308 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:28.309 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.309 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:28.318 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:125 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:28.318 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:126 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:28.323 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.324 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.325 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:28.325 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:28.331 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:127 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.337 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.338 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.338 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:128 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:28.349 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:129 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.359 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:28.359 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:28.361 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.361 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:28.362 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:28.362 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.363 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:28.363 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:28.364 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:28.373 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.373 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:28.379 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:130 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:28.385 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.386 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.392 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:131 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.394 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.394 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.396 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:132 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.400 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:28.401 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:28.419 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.420 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:28.421 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:133 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:28.429 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:134 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:28.435 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.436 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:28.444 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:135 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:28.447 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.448 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:28.455 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:136 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:28.468 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.469 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:28.484 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:137 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:28.494 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.494 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:28.505 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:138 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:28.508 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.509 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:28.511 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:139 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:28.516 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.516 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:28.519 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:140 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:28.526 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.526 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:28.542 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:141 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:28.548 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.548 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:28.566 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:142 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:28.573 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.574 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:28.584 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:143 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:28.586 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.586 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:28.594 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:144 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:28.598 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:28.598 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:28.603 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:145 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:29.823 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:29.824 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:29.824 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:29.824 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:29.825 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:29.825 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:29.825 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:29.829 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:146 created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.829 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:146 Executing (not server cursor) SELECT 1
2025-07-10 19:45:29.830 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:146 created by (SQLServerStatement:146)
2025-07-10 19:45:29.830 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.831 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:29.837 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:147 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:29.840 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.840 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:29.844 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:148 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:29.846 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.846 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:29.852 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:149 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:29.855 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:29.856 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:29.859 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:29.859 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@5f0d3fa8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:29.861 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:29.861 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:29.861 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:29.861 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:29.861 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:45:29.861 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:29.870 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.870 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:29.884 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:150 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:29.890 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.891 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:29.901 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:151 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:29.907 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.909 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:29.919 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:152 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:29.924 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.925 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:29.931 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:153 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:29.938 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:29.939 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:29.953 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:154 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:29.976 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:29.977 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:29.979 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:29.980 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:29.982 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:29.983 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:29.983 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:29.993 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:155 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:29.993 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:155 Executing (not server cursor) SELECT 1
2025-07-10 19:45:29.995 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:155 created by (SQLServerStatement:155)
2025-07-10 19:45:29.997 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:29.997 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:30.005 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:156 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:30.008 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:30.009 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:30.020 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:157 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:30.026 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:30.027 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:30.032 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:158 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:30.036 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:30.036 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:30.043 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:30.043 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@434ab059, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:30.044 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:30.044 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:30.044 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:30.044 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:30.045 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 127.0.0.1
2025-07-10 19:45:30.045 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:30.052 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:30.053 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:30.059 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:159 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:30.062 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:30.062 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:30.068 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:160 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:30.070 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:30.070 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:30.073 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:161 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:30.075 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:30.077 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:30.080 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:162 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:30.086 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:30.086 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:30.090 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:163 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:32.530 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:32.530 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:32.530 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:32.531 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:32.531 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:32.531 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:32.531 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.531 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.531 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.531 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:32.531 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:32.531 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:32.532 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.532 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.532 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.532 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.532 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.532 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:32.532 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.532 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:32.532 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:32.535 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:164 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.535 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:165 created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.535 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:166 created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.535 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:164 Executing (not server cursor) SELECT 1
2025-07-10 19:45:32.535 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:165 Executing (not server cursor) SELECT 1
2025-07-10 19:45:32.535 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:166 Executing (not server cursor) SELECT 1
2025-07-10 19:45:32.538 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:166 created by (SQLServerStatement:166)
2025-07-10 19:45:32.538 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:165 created by (SQLServerStatement:165)
2025-07-10 19:45:32.538 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:164 created by (SQLServerStatement:164)
2025-07-10 19:45:32.538 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.538 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.538 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.538 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:32.538 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:32.538 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:32.547 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:168 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:32.547 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:167 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:32.547 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:169 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:32.551 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.551 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.551 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.551 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.551 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.551 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.557 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:172 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.557 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:171 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.557 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:170 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.559 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.559 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.559 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.560 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.560 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.560 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.566 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:174 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.566 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:173 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.566 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:175 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.569 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:32.569 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:32.569 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:32.569 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:32.569 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:32.569 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:32.575 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.575 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.576 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:32.576 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:32.579 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:32.579 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/monthly-stats, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:32.580 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.580 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/monthly-stats
2025-07-10 19:45:32.581 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.581 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:177 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:32.581 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:176 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:32.581 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.582 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:32.582 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.583 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.583 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.583 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.583 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:178 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.583 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:179 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.584 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.584 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.584 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.584 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:32.584 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.584 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.586 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:180 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.586 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:181 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.586 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:182 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:32.587 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.587 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.589 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:183 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.590 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:32.590 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:32.590 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.590 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.591 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:32.591 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.593 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:184 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.597 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:32.597 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:32.601 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:185 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:32.605 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.606 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:32.616 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:186 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:32.620 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.621 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:32.624 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:187 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:32.627 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:188 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:32.629 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.630 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:32.632 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:189 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:32.637 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.638 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:32.644 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:32.646 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/recent-bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:32.648 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.648 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/recent-bookings
2025-07-10 19:45:32.649 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.650 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.650 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:32.651 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:190 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:32.659 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.660 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.661 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:32.661 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:32.665 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:191 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:32.668 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.670 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.672 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:192 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.673 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:193 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:32.673 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.674 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.676 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:194 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.680 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:32.680 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:32.681 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.682 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:32.684 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:195 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:32.687 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.688 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:32.688 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.689 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:32.690 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:196 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:32.691 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.692 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.694 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:197 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:32.694 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:198 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.696 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.697 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.698 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.699 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:32.699 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:199 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.703 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:32.704 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:32.704 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:200 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:32.707 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:201 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:32.717 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:32.719 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:32.722 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.722 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:32.724 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.725 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:32.726 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:32.736 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.737 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:32.741 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:202 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:32.746 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.747 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.749 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:203 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.753 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.754 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.756 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:204 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.759 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:32.760 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:32.769 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.769 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:32.770 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:205 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:32.773 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.773 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:32.774 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:206 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:32.778 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.778 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:32.779 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:207 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:32.782 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.782 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:32.784 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:208 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:32.790 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.791 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:32.793 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:209 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:32.805 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.806 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:32.808 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:210 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:32.812 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.813 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:32.815 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:211 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:32.824 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.825 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:32.826 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:212 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:32.831 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.832 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:32.834 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:213 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:32.840 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.841 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:32.844 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:214 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:32.848 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.849 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:32.852 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:215 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:32.857 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:32.859 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:32.865 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:216 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:35.855 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:35.855 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:35.856 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:35.856 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:35.857 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:35.857 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:35.857 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:35.861 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:217 created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.861 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:217 Executing (not server cursor) SELECT 1
2025-07-10 19:45:35.863 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:217 created by (SQLServerStatement:217)
2025-07-10 19:45:35.863 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.864 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:35.871 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:218 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:35.875 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.876 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:35.879 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:219 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:35.882 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.883 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:35.889 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:220 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:35.894 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:35.895 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:35.906 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.907 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:35.914 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:221 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:35.917 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.918 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:35.922 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:222 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:35.930 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.932 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:35.939 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:223 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:35.955 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.957 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:35.981 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:224 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:35.992 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:35.993 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:36.018 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:225 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:36.028 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:36.030 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:36.035 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:226 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:36.045 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:36.046 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:36.052 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:227 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:36.065 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:36.067 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:36.083 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:228 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:36.095 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:36.096 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:36.116 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:229 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:36.127 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:36.130 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:36.159 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:230 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:36.167 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:36.168 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:36.188 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:231 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:36.197 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:36.199 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:36.213 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:232 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:36.234 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:45:36.236 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:36.238 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.239 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:45:36.240 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.244 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.251 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:36.273 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:233 created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.275 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:233 Executing (not server cursor) SELECT 1
2025-07-10 19:45:36.287 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:45:36.288 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:36.297 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.298 [http-nio-8080-exec-6] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:45:36.302 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:233 created by (SQLServerStatement:233)
2025-07-10 19:45:36.304 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.304 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.306 [http-nio-8080-exec-6] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.306 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:36.307 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:36.318 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:235 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.320 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:235 Executing (not server cursor) SELECT 1
2025-07-10 19:45:36.328 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:234 created by (SQLServerStatement:235)
2025-07-10 19:45:36.331 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.333 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:36.352 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:235 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:36.360 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.362 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.369 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:236 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:36.376 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.378 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.381 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:237 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.383 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:238 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.386 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.386 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.387 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.387 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.397 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:239 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.397 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:240 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.402 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:36.402 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:36.404 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:36.404 [http-nio-8080-exec-6] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:36.426 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.428 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:36.432 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.433 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:36.444 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:242 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:36.444 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:241 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:36.450 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.450 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.451 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.451 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.460 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:244 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.460 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:243 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.470 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.470 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.471 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.471 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.480 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:245 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.481 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:246 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.500 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.501 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.501 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:36.502 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:36.527 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:247 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:36.540 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.542 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:36.567 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:248 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:36.574 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.575 [http-nio-8080-exec-6] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:249 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:36.575 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:36.584 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:250 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:36.592 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.593 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:45:36.600 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:251 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:45:36.615 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.616 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:36.665 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:252 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:36.678 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.678 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:36.683 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:45:36.684 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:36.686 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.687 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:45:36.688 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.691 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.691 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:36.699 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:253 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:36.699 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.700 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:36.710 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.712 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:45:36.717 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:254 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:45:36.724 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:255 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:36.724 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.725 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:45:36.728 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.728 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.736 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:257 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.736 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:256 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:45:36.743 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.745 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.746 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.747 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:45:36.753 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:258 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.756 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:259 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:45:36.756 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:36.756 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:36.771 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.772 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:36.784 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:45:36.784 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:36.785 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:260 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:36.786 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.786 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:45:36.787 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.788 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:36.788 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.788 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:36.788 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.792 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:261 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.796 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.798 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.798 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.798 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:36.800 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:262 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:36.800 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:263 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.804 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.805 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.812 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:36.814 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:36.818 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:264 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.822 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.823 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.833 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:265 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.837 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:36.838 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:36.852 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.854 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:36.870 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:266 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:36.874 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.875 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:36.881 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:267 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:36.891 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:268 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:36.896 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.897 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:36.912 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:269 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:36.927 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 4954cdc9-002c-490d-9189-c234cd3a76e2)
2025-07-10 19:45:36.930 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:45:36.979 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:270 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:45:37.026 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:45:37.027 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:37.031 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.031 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:45:37.033 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.035 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.036 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:37.044 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:271 created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.045 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:271 Executing (not server cursor) SELECT 1
2025-07-10 19:45:37.047 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:271 created by (SQLServerStatement:271)
2025-07-10 19:45:37.047 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.048 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:37.056 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:272 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:37.059 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.059 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:37.069 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:273 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:37.075 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.077 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:37.092 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:274 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:37.097 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:37.098 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:37.112 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.112 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:37.135 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:275 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:37.138 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.139 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:37.148 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:276 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:37.156 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.158 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:37.175 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:277 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:37.187 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.188 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:45:37.263 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:278 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:45:37.361 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:37.361 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:37.362 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.362 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:37.363 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.363 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.364 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:37.369 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.370 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:37.377 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:279 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:37.379 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.380 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:37.388 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:280 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:37.394 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.396 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:37.407 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:281 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:37.410 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:37.412 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:37.416 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:37.418 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@7bace162, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:37.418 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:37.418 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:37.419 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:37.419 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:37.419 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:45:37.419 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:37.432 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.434 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:37.445 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:282 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:37.451 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.453 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:37.470 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:283 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:37.473 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.474 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:37.482 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:284 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:37.492 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.493 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:37.508 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:285 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:37.524 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:4 ClientConnectionId: bf806441-d1c2-4889-8236-fba6c376fbf0)
2025-07-10 19:45:37.526 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:37.543 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:286 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:37.567 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:37.571 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:37.576 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.577 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:37.578 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.579 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:37.579 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:37.591 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:287 created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.593 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:287 Executing (not server cursor) SELECT 1
2025-07-10 19:45:37.598 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:287 created by (SQLServerStatement:287)
2025-07-10 19:45:37.601 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.602 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:37.621 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:288 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:37.627 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.628 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:37.642 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:289 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:37.647 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.649 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:37.656 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:290 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:37.660 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:37.661 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:37.664 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:45:37.664 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@3d6814e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:45:37.664 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:45:37.664 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:45:37.664 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:45:37.665 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:45:37.665 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:45:37.665 [http-nio-8080-exec-4] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:45:37.671 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.672 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:45:37.682 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:291 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:45:37.687 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.687 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:37.711 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:292 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:37.718 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.719 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:37.730 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:293 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:37.739 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.749 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:37.768 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:294 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:37.778 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 666c3b9b-d079-45b2-ab8c-f2c9650947ad)
2025-07-10 19:45:37.778 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:45:37.791 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:295 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:45:41.731 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:45:41.732 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:45:41.732 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:41.732 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:45:41.733 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:41.733 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:45:41.733 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:45:41.736 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:296 created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.736 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:296 Executing (not server cursor) SELECT 1
2025-07-10 19:45:41.737 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:296 created by (SQLServerStatement:296)
2025-07-10 19:45:41.737 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.737 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:41.741 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:297 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:41.743 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.743 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:41.746 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:298 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:41.750 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.750 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:41.756 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:299 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:41.761 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:45:41.761 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:45:41.863 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:45:41.864 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:45:41.864 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:45:41.864 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:45:41.865 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.866 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:45:41.866 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:300 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:45:41.867 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.867 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:45:41.867 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:301 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:45:41.868 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.868 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:41.868 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:302 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:41.869 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:45:41.872 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:45:41.882 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.883 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:45:41.887 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:303 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:45:41.888 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.888 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:45:41.889 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:304 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:45:41.899 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.900 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:45:41.911 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:305 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:45:41.918 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.919 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:45:41.923 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:306 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:45:41.926 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: aa6df23e-eebc-48ab-9882-472c98efd5bb)
2025-07-10 19:45:41.927 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:45:41.935 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:307 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:45:41.937 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:45:41.948 [http-nio-8080-exec-5] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:45:41.960 [http-nio-8080-exec-5] ERROR c.c.c.controller.UserController - Error updating profile for user: HoangThiThuy1
org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy176.findByUserIdAndIsDeletedFalse(Unknown Source)
	at com.carrental.car_rental.service.UserService.update(UserService.java:200)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.service.UserService$$SpringCGLIB$$0.update(<generated>)
	at com.carrental.car_rental.controller.UserController.updateCurrentUserProfile(UserController.java:198)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.carrental.car_rental.controller.UserController$$SpringCGLIB$$0.updateCurrentUserProfile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.carrental.car_rental.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 174 common frames omitted
Caused by: org.hibernate.TransientObjectException: persistent instance references an unsaved transient instance of 'com.carrental.car_rental.entity.Language' (save the transient instance before flushing)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:382)
	at org.hibernate.engine.spi.CascadingActions$9.cascade(CascadingActions.java:372)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:570)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:492)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:253)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:192)
	at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:169)
	at org.hibernate.event.internal.AbstractFlushingEventListener.preFlush(AbstractFlushingEventListener.java:107)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoPreFlush(DefaultAutoFlushEventListener.java:104)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoPreFlush(SessionImpl.java:1391)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	... 190 common frames omitted
2025-07-10 19:46:04.391 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:46:04.391 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:46:04.394 [http-nio-8080-exec-3] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /api/users/profile, error: Full authentication is required to access this resource
2025-07-10 19:46:04.580 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /favicon.ico
2025-07-10 19:46:04.580 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /favicon.ico, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:46:04.581 [http-nio-8080-exec-10] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /favicon.ico, error: Full authentication is required to access this resource
2025-07-10 19:46:25.125 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-07-10 19:48:01.003 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-10 19:48:01.098 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-10 19:48:01.108 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:48:01.123 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-10 19:48:01.128 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-10 19:48:01.145 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-10 19:48:01.146 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5f66ff0d]]
2025-07-10 19:48:01.146 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-10 19:48:02.448 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 5876 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 19:48:02.448 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 19:48:02.448 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 19:48:03.393 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 19:48:03.554 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 161 ms. Found 33 JPA repository interfaces.
2025-07-10 19:48:04.012 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 19:48:04.012 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 19:48:04.035 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 19:48:04.040 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:48:04.042 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 19:48:04.042 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 19:48:04.143 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 19:48:04.145 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1692 ms
2025-07-10 19:48:04.372 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 19:48:04.376 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 19:48:04.410 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:48:04.410 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:48:04.410 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:48:04.410 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:48:04.410 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:48:04.410 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:48:04.410 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:48:04.412 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:48:04.412 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:48:04.412 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:48:04.412 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:48:04.412 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 created by (SQLServerDriver:1)
2025-07-10 19:48:04.413 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:48:04.424 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485 Server returned major version:16
2025-07-10 19:48:04.514 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:308 created by (ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485)
2025-07-10 19:48:04.515 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:308 Executing (not server cursor) SELECT 1
2025-07-10 19:48:04.515 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:308 created by (SQLServerStatement:308)
2025-07-10 19:48:04.516 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:2 created by (ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485)
2025-07-10 19:48:04.516 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:309 created by (ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485)
2025-07-10 19:48:04.516 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:309 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 19:48:04.572 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:309 created by (SQLServerStatement:309)
2025-07-10 19:48:04.574 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 19:48:04.574 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:310 created by (ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485)
2025-07-10 19:48:04.574 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:310 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:48:04.575 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:310 created by (SQLServerStatement:310)
2025-07-10 19:48:04.575 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:311 created by (ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485)
2025-07-10 19:48:04.575 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:311 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:48:04.575 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:311 created by (SQLServerStatement:311)
2025-07-10 19:48:04.575 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:3 created by (ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485)
2025-07-10 19:48:04.576 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:4 created by (ConnectionID:6 ClientConnectionId: 1b756b2a-8a12-4330-8132-7a5925a14485)
2025-07-10 19:48:04.576 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 19:48:04.632 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:48:04.633 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:48:04.633 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:48:04.633 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:48:04.633 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:48:04.633 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:48:04.633 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 created by (SQLServerDriver:1)
2025-07-10 19:48:04.634 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:48:04.635 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:7 ClientConnectionId: 690c2f59-be8e-4cf7-b23e-9137d9a29dcc Server returned major version:16
2025-07-10 19:48:04.693 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:48:04.693 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:48:04.693 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:48:04.694 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:48:04.694 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:48:04.694 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:48:04.694 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 created by (SQLServerDriver:1)
2025-07-10 19:48:04.694 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:48:04.696 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:8 ClientConnectionId: 570c7eca-a831-4cf9-bc7f-971ecde9c600 Server returned major version:16
2025-07-10 19:48:04.758 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:48:04.758 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:48:04.758 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:48:04.758 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:48:04.758 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:48:04.758 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:48:04.759 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 created by (SQLServerDriver:1)
2025-07-10 19:48:04.759 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:48:04.760 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:9 ClientConnectionId: 5590ac65-7b4e-4518-ab36-b121243193ca Server returned major version:16
2025-07-10 19:48:04.819 [HikariPool-2 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:48:04.819 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:48:04.819 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:48:04.820 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:48:04.820 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:48:04.820 [HikariPool-2 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:48:04.820 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 created by (SQLServerDriver:1)
2025-07-10 19:48:04.820 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:48:04.824 [HikariPool-2 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:10 ClientConnectionId: 1ee09751-7fe0-4bdf-a55f-5fc98a72ab9e Server returned major version:16
2025-07-10 19:48:05.237 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 19:48:05.307 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 19:48:05.401 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 19:48:05.420 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 19:48:06.798 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 19:48:07.722 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 19:48:07.756 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 19:48:07.836 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 19:48:08.153 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 19:48:08.181 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 19:48:08.182 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57be3229]]
2025-07-10 19:48:08.182 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 19:48:08.183 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 19:48:08.194 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-10 19:48:08.230 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Started CarRentalApplication in 5.867 seconds (process running for 182.35)
2025-07-10 19:48:08.243 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-10 19:49:08.185 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-07-10 19:50:19.493 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-10 19:50:19.588 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Starting CarRentalApplication using Java 21.0.6 with PID 13428 (D:\Car-Rental-version1\car-rental\target\classes started by nhdan in D:\Car-Rental-version1)
2025-07-10 19:50:19.589 [restartedMain] DEBUG c.c.car_rental.CarRentalApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-07-10 19:50:19.591 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-10 19:50:19.697 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-10 19:50:19.698 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-10 19:50:21.394 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-10 19:50:21.679 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 274 ms. Found 33 JPA repository interfaces.
2025-07-10 19:50:22.983 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-10 19:50:22.987 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
2025-07-10 19:50:23.007 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
2025-07-10 19:50:23.024 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-10 19:50:23.031 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-10 19:50:23.032 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-10 19:50:23.121 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-10 19:50:23.122 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3422 ms
2025-07-10 19:50:23.712 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-10 19:50:23.787 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-07-10 19:50:23.829 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-10 19:50:24.299 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:50:24.300 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:50:24.300 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:50:24.301 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:50:24.301 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:50:24.310 [restartedMain] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:50:24.312 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:50:24.312 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:50:24.312 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:50:24.313 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:50:24.313 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:50:24.359 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 created by (SQLServerDriver:1)
2025-07-10 19:50:24.366 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 Connecting with server: localhost port: 1433 Timeout slice: 3749 Timeout Full: 30
2025-07-10 19:50:24.409 [restartedMain] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207 Server returned major version:16
2025-07-10 19:50:24.671 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:50:24.674 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:1 Executing (not server cursor) SELECT 1
2025-07-10 19:50:24.714 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:1 created by (SQLServerStatement:1)
2025-07-10 19:50:24.735 [restartedMain] DEBUG c.m.s.j.i.SQLServerDatabaseMetaData -  SQLServerDatabaseMetaData:1 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:50:24.757 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:50:24.758 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:2 Executing (not server cursor) SELECT compatibility_level FROM sys.databases where name = db_name();
2025-07-10 19:50:24.796 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:2 created by (SQLServerStatement:2)
2025-07-10 19:50:24.816 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-10 19:50:24.826 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:50:24.828 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:3 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:50:24.830 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:3 created by (SQLServerStatement:3)
2025-07-10 19:50:24.832 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:50:24.832 [restartedMain] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:4 Executing (not server cursor) SELECT SCHEMA_NAME()
2025-07-10 19:50:24.835 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:50:24.835 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:50:24.835 [restartedMain] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:4 created by (SQLServerStatement:4)
2025-07-10 19:50:24.835 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:50:24.835 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:50:24.835 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:50:24.835 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:50:24.836 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 created by (SQLServerDriver:1)
2025-07-10 19:50:24.836 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:50:24.839 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e Server returned major version:16
2025-07-10 19:50:24.847 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerClob - SQLServerClob:1 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:50:24.848 [restartedMain] DEBUG c.m.s.jdbc.internals.SQLServerNClob - SQLServerNClob:2 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:50:24.868 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 16.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-10 19:50:24.911 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:50:24.911 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:50:24.911 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:50:24.912 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:50:24.912 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:50:24.912 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:50:24.913 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 created by (SQLServerDriver:1)
2025-07-10 19:50:24.913 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:50:24.915 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad Server returned major version:16
2025-07-10 19:50:24.989 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:50:24.990 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:50:24.990 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:50:24.991 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:50:24.991 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:50:24.991 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:50:24.991 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 created by (SQLServerDriver:1)
2025-07-10 19:50:24.992 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 Connecting with server: localhost port: 1433 Timeout slice: 3750 Timeout Full: 30
2025-07-10 19:50:24.996 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:4 ClientConnectionId: 498682ae-5859-4d7f-b438-931c11346179 Server returned major version:16
2025-07-10 19:50:25.067 [HikariPool-1 connection adder] DEBUG com.microsoft.sqlserver.jdbc.Driver - Microsoft JDBC Driver 12.8.1.0 for SQL Server
2025-07-10 19:50:25.068 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:serverName Value:localhost
2025-07-10 19:50:25.069 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:portNumber Value:1433
2025-07-10 19:50:25.069 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:databaseName Value:CarRentalDB
2025-07-10 19:50:25.070 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:encrypt Value:true
2025-07-10 19:50:25.070 [HikariPool-1 connection adder] DEBUG c.m.s.jdbc.internals.SQLServerDriver - Property:trustServerCertificate Value:true
2025-07-10 19:50:25.070 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 created by (SQLServerDriver:1)
2025-07-10 19:50:25.071 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 Connecting with server: localhost port: 1433 Timeout slice: 3749 Timeout Full: 30
2025-07-10 19:50:25.072 [HikariPool-1 connection adder] DEBUG c.m.s.j.i.SQLServerConnection - ConnectionID:5 ClientConnectionId: 5af2e71e-46fc-481d-9dc9-781eea387a42 Server returned major version:16
2025-07-10 19:50:26.501 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-10 19:50:26.674 [restartedMain] DEBUG o.h.s.internal.StatisticsInitiator - Statistics initialized [enabled=false]
2025-07-10 19:50:26.912 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-10 19:50:28.103 [restartedMain] DEBUG c.c.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-07-10 19:50:28.170 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityConfig initialized
2025-07-10 19:50:30.899 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-10 19:50:32.007 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-07-10 19:50:32.060 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - Configuring SecurityFilterChain
2025-07-10 19:50:32.182 [restartedMain] INFO  c.c.car_rental.config.SecurityConfig - SecurityFilterChain configured successfully
2025-07-10 19:50:32.823 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-10 19:50:32.894 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-10 19:50:32.894 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f7cd3d]]
2025-07-10 19:50:32.895 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-10 19:50:32.895 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-10 19:50:32.929 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-10 19:50:32.946 [restartedMain] INFO  c.c.car_rental.CarRentalApplication - Started CarRentalApplication in 14.154 seconds (process running for 14.62)
2025-07-10 19:51:32.862 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-07-10 19:51:40.005 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-10 19:51:40.005 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-10 19:51:40.007 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-10 19:51:40.052 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:51:40.054 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:40.072 [http-nio-8080-exec-1] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /api/users/profile, error: Full authentication is required to access this resource
2025-07-10 19:51:40.146 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /favicon.ico
2025-07-10 19:51:40.146 [http-nio-8080-exec-2] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /favicon.ico, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:40.147 [http-nio-8080-exec-2] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /favicon.ico, error: Full authentication is required to access this resource
2025-07-10 19:51:43.125 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:51:43.125 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:43.236 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:43.238 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:51:43.243 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:43.247 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:43.249 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:43.655 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:43.676 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:5 Executing (not server cursor) SELECT 1
2025-07-10 19:51:43.701 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:5 created by (SQLServerStatement:5)
2025-07-10 19:51:43.756 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:43.826 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:43.928 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:6 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:44.063 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.064 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:44.102 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:7 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:44.169 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.171 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:44.192 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:8 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:44.231 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:44.234 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:44.343 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.345 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:44.359 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:9 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:44.368 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.369 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:44.390 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:10 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:44.398 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.400 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:44.431 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:11 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:44.485 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.488 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:51:44.513 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:12 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:51:44.541 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.542 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:51:44.563 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:13 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:51:44.577 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.578 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:51:44.586 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:14 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:51:44.596 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.598 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:51:44.602 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:15 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:51:44.613 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.614 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:51:44.651 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:16 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:51:44.663 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.664 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:51:44.685 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:17 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:51:44.698 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.699 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:51:44.718 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:18 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:51:44.736 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.738 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:51:44.752 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:19 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:51:44.778 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.780 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:51:44.825 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:20 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:51:44.920 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/dashboard/summary
2025-07-10 19:51:44.922 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/dashboard/summary, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:44.924 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:44.925 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/dashboard/summary
2025-07-10 19:51:44.926 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:44.926 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:44.927 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:44.934 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.935 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:44.952 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:51:44.953 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:44.955 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:44.957 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:51:44.959 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:44.960 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:21 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:44.962 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:44.964 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:44.964 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.965 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:44.972 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:23 created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:44.978 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:22 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:44.985 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:23 Executing (not server cursor) SELECT 1
2025-07-10 19:51:44.986 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:44.987 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:44.989 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:23 created by (SQLServerStatement:23)
2025-07-10 19:51:44.989 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:44.990 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:44.995 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:24 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:44.999 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:45.001 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:45.019 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.019 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:25 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:45.020 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:45.023 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.024 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.032 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:26 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.035 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:27 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:45.037 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.040 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.040 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.043 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.054 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:28 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.055 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:29 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.058 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:45.059 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:45.059 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.060 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.073 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:30 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.084 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.085 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:45.085 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:51:45.087 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:45.090 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.090 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:51:45.091 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.091 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.092 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:51:45.092 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:31 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:45.096 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.098 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:45.104 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.106 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.115 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:32 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.122 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.122 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:34 created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.124 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.126 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:34 Executing (not server cursor) SELECT 1
2025-07-10 19:51:45.129 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:33 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.134 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:34 created by (SQLServerStatement:34)
2025-07-10 19:51:45.135 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.135 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:45.140 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:35 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 where c1_0.supplier_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:51:45.148 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.149 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:51:45.160 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:36 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:45.168 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.170 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.179 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.182 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:51:45.193 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:38 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:51:45.193 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:37 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.197 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.199 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.204 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.206 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:51:45.215 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:39 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:51:45.219 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:40 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.224 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:45.225 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.225 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:45.226 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0: calling sp_executesql: SQL:select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0
2025-07-10 19:51:45.237 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:41 created by (sp_executesql SQL: select count_big(c1_0.car_id) from car c1_0 join status s2_0 on s2_0.status_id=c1_0.status_id where c1_0.supplier_id= @P0 and s2_0.status_name= @P1 and c1_0.is_deleted=0)
2025-07-10 19:51:45.256 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.258 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:51:45.259 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:51:45.260 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@44079fc5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:51:45.261 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:51:45.261 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:51:45.261 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:51:45.262 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:51:45.264 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:51:45.268 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:51:45.291 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:42 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:51:45.368 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:43 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:51:45.380 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.381 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:51:45.407 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.411 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:45.473 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:45 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:51:45.473 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:44 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:45.477 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.479 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.484 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.486 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 : calling sp_executesql: SQL:select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 
2025-07-10 19:51:45.535 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:46 created by (sp_executesql SQL: select count_big(b1_0.booking_id) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id join status s1_0 on s1_0.status_id=b1_0.status_id where c1_0.supplier_id= @P0 and s1_0.status_name= @P1 )
2025-07-10 19:51:45.537 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:47 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.541 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.541 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.541 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 
2025-07-10 19:51:45.542 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.583 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:48 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.593 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:49 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 )
2025-07-10 19:51:45.595 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.596 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:51:45.600 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.603 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 : calling sp_executesql: SQL:select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 
2025-07-10 19:51:45.619 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:50 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:51:45.639 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:51:45.655 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:45.656 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:51 created by (sp_executesql SQL: select sum(b1_0.deposit_amount) from Booking b1_0 join car c1_0 on c1_0.car_id=b1_0.car_id where c1_0.supplier_id= @P0 and b1_0.created_at>= @P1 )
2025-07-10 19:51:45.661 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.663 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:51:45.665 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.667 [http-nio-8080-exec-4] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.668 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:45.678 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.679 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:45.724 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:52 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:45.730 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.731 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/cars
2025-07-10 19:51:45.731 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/cars, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:45.732 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.734 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.735 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/cars
2025-07-10 19:51:45.738 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.743 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.746 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:45.747 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.748 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:51:45.760 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.765 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:45.775 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:53 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.780 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.780 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:54 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:51:45.781 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.781 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:55 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:45.787 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.788 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.798 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:56 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.804 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:57 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.805 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:45.807 [http-nio-8080-exec-4] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:45.811 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.812 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.822 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:58 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.828 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.829 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:45.832 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:45.834 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:45.838 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:51:45.839 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:45.842 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.844 [http-nio-8080-exec-5] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:51:45.846 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.847 [http-nio-8080-exec-5] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:45.849 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:45.861 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.864 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:45.866 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.867 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:45.897 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:59 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:45.903 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:60 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:45.905 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.907 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.911 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.912 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:61 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:45.912 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.917 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.920 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.925 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:62 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.925 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:63 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.926 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:64 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:45.929 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.929 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.929 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.931 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.932 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.932 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:45.945 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:65 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.945 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:67 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.945 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:66 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:45.950 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:45.952 [http-nio-8080-exec-5] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:45.961 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:51:45.962 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:45.962 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@7a9ff683, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:51:45.963 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:51:45.963 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0: calling sp_executesql: SQL:select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0
2025-07-10 19:51:45.964 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:51:45.965 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:51:45.965 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:51:45.965 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:51:45.966 [http-nio-8080-exec-5] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:51:45.969 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:45.970 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:51:45.975 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.976 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:45.994 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:68 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:45.996 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:45.998 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:45.999 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:69 created by (sp_executesql SQL: select c1_0.car_id,c1_0.brand_id,b1_0.brand_id,b1_0.brand_name,b1_0.country,b1_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year] from car c1_0 left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b1_0 on b1_0.brand_id=c1_0.brand_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id where s1_0.user_id= @P0 and c1_0.is_deleted=0)
2025-07-10 19:51:46.000 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:70 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:46.004 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:46.004 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:46.009 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:71 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:46.016 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:46.016 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:51:46.020 [http-nio-8080-exec-4] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:72 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:51:46.024 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:73 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:51:46.031 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:46.032 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:51:46.045 [http-nio-8080-exec-5] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:74 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:51:46.059 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/supplier/bookings
2025-07-10 19:51:46.060 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/supplier/bookings, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:46.061 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:46.061 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/supplier/bookings
2025-07-10 19:51:46.062 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:46.062 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:46.064 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:46.076 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:46.077 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:46.084 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:75 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:46.090 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:46.091 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:46.096 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:76 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:46.100 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:46.100 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:46.105 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:77 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:46.109 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:46.110 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:46.123 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:46.123 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:46.128 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:78 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:46.130 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:46.132 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:46.134 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:79 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:46.137 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:46.139 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:46.140 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:80 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:46.148 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:51:46.148 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 : calling sp_executesql: SQL:select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 
2025-07-10 19:51:46.190 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:81 created by (sp_executesql SQL: select b1_0.booking_id,b1_0.booking_date,b1_0.car_id,c1_0.car_id,c1_0.brand_id,b2_0.brand_id,b2_0.brand_name,b2_0.country,b2_0.is_deleted,c1_0.color,c1_0.created_at,c1_0.daily_rate,c1_0.describe,c1_0.features,c1_0.fuel_type_id,ft1_0.fuel_type_id,ft1_0.description,ft1_0.fuel_type_name,ft1_0.is_deleted,i1_0.car_id,i1_0.image_id,i1_0.description,i1_0.image_url,i1_0.is_deleted,i1_0.is_main,c1_0.is_deleted,c1_0.license_plate,c1_0.model,c1_0.num_of_seats,c1_0.region_id,r2_0.region_id,r2_0.country_code,r2_0.currency,r2_0.is_deleted,r2_0.region_name,c1_0.status_id,s3_0.status_id,s3_0.description,s3_0.is_deleted,s3_0.status_name,c1_0.supplier_id,s1_0.user_id,s1_0.country_code,s1_0.created_at,s1_0.email,s1_0.is_deleted,s1_0.last_login,s1_0.password_hash,s1_0.phone,s1_0.preferred_language,s1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,s1_0.status_id,s2_0.status_id,s2_0.description,s2_0.is_deleted,s2_0.status_name,s1_0.updated_at,ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode,s1_0.username,c1_0.transmission,c1_0.updated_at,c1_0.[year],b1_0.created_at,b1_0.customer_id,c2_0.user_id,c2_0.country_code,c2_0.created_at,c2_0.email,c2_0.is_deleted,c2_0.last_login,c2_0.password_hash,c2_0.phone,c2_0.preferred_language,c2_0.role_id,r3_0.role_id,r3_0.description,r3_0.is_deleted,r3_0.role_name,c2_0.status_id,s4_0.status_id,s4_0.description,s4_0.is_deleted,s4_0.status_name,c2_0.updated_at,ud2_0.user_id,ud2_0.address,ud2_0.is_deleted,ud2_0.name,ud2_0.taxcode,c2_0.username,b1_0.deposit_amount,b1_0.driver_id,b1_0.dropoff_location,b1_0.end_date,b1_0.extension_days,b1_0.extension_status_id,b1_0.is_deleted,b1_0.pickup_location,b1_0.promo_id,b1_0.region_id,b1_0.seat_number,b1_0.start_date,b1_0.status_id,s5_0.status_id,s5_0.description,s5_0.is_deleted,s5_0.status_name,b1_0.updated_at,b1_0.with_driver from Booking b1_0 left join car c1_0 on c1_0.car_id=b1_0.car_id left join [User] s1_0 on s1_0.user_id=c1_0.supplier_id left join Role r1_0 on r1_0.role_id=s1_0.role_id left join status s2_0 on s2_0.status_id=s1_0.status_id left join UserDetail ud1_0 on s1_0.user_id=ud1_0.user_id left join CarBrand b2_0 on b2_0.brand_id=c1_0.brand_id left join Region r2_0 on r2_0.region_id=c1_0.region_id left join FuelType ft1_0 on ft1_0.fuel_type_id=c1_0.fuel_type_id left join status s3_0 on s3_0.status_id=c1_0.status_id left join Image i1_0 on c1_0.car_id=i1_0.car_id left join [User] c2_0 on c2_0.user_id=b1_0.customer_id left join UserDetail ud2_0 on c2_0.user_id=ud2_0.user_id left join status s4_0 on s4_0.status_id=c2_0.status_id left join Role r3_0 on r3_0.role_id=c2_0.role_id left join status s5_0 on s5_0.status_id=b1_0.status_id where s1_0.user_id= @P0 )
2025-07-10 19:51:50.929 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:51:50.930 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:50.931 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:50.931 [http-nio-8080-exec-3] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:51:50.931 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:50.932 [http-nio-8080-exec-3] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:50.932 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:50.935 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:82 created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:50.935 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:82 Executing (not server cursor) SELECT 1
2025-07-10 19:51:50.936 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:82 created by (SQLServerStatement:82)
2025-07-10 19:51:50.936 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:50.937 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:50.941 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:83 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:50.942 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:50.942 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:50.945 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:84 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:50.947 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:50.947 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:50.967 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:85 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:50.970 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:50.970 [http-nio-8080-exec-3] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:51.104 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:51:51.104 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:51:51.104 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:51:51.105 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:51:51.106 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.107 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:51.110 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:86 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:51.111 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.112 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:51.114 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:87 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:51.114 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.115 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:51.116 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:88 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:51.117 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:51:51.121 [http-nio-8080-exec-3] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:51:51.134 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.135 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:51:51.138 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:89 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:51:51.140 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.141 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:51.143 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:90 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:51.153 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.154 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:51:51.162 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:91 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:51:51.169 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.169 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:51:51.172 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:92 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:51:51.175 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.176 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:51:51.179 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:93 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:51:51.181 [http-nio-8080-exec-3] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:51:51.187 [http-nio-8080-exec-3] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:51:51.212 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.214 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 : calling sp_executesql: SQL:update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 
2025-07-10 19:51:51.263 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:3 ClientConnectionId: bef5cf19-72b9-4784-91eb-18c2a5c5b8ad)
2025-07-10 19:51:51.263 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:51:51.266 [http-nio-8080-exec-3] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:94 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:51:51.266 [http-nio-8080-exec-3] INFO  c.c.car_rental.service.UserService - UserDetail lookup for ID=59: found=true
2025-07-10 19:51:51.269 [http-nio-8080-exec-3] INFO  c.c.c.controller.UserController - Profile updated successfully for user: HoangThiThuy1
2025-07-10 19:51:51.280 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:51:51.280 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:51:51.282 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:51.283 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:51:51.283 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:51.284 [http-nio-8080-exec-7] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:51:51.284 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:51:51.289 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:96 created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.290 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:96 Executing (not server cursor) SELECT 1
2025-07-10 19:51:51.292 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:95 created by (SQLServerStatement:96)
2025-07-10 19:51:51.293 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.294 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:51:51.301 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:96 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:51:51.305 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.306 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:51.309 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:97 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:51.311 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.312 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:51.317 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:98 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:51.320 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:51:51.321 [http-nio-8080-exec-7] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:51:51.326 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:51:51.326 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@151ecb6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:51:51.326 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:51:51.326 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:51:51.328 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:51:51.328 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:51:51.328 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:51:51.328 [http-nio-8080-exec-7] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:51:51.334 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.334 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:51:51.338 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:99 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:51:51.339 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.340 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:51:51.341 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:100 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:51:51.343 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.343 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:51:51.349 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:101 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:51:51.357 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.357 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:51:51.362 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:102 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:51:51.367 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:51:51.368 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:51:51.374 [http-nio-8080-exec-7] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:103 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:52:06.627 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:52:06.627 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:52:06.628 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:52:06.628 [http-nio-8080-exec-10] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:52:06.629 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:52:06.629 [http-nio-8080-exec-10] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:52:06.629 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:52:06.632 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:105 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.647 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:105 Executing (not server cursor) SELECT 1
2025-07-10 19:52:06.649 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:104 created by (SQLServerStatement:105)
2025-07-10 19:52:06.650 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.651 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:52:06.658 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:105 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:52:06.660 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.661 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:52:06.665 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:106 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:52:06.668 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.669 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:52:06.672 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:107 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:52:06.676 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:52:06.676 [http-nio-8080-exec-10] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:52:06.683 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:52:06.684 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:52:06.684 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:52:06.684 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:52:06.689 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.690 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:52:06.696 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:108 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:52:06.698 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.698 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:52:06.703 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:109 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:52:06.705 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.705 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:52:06.707 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:110 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:52:06.708 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy12@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:52:06.710 [http-nio-8080-exec-10] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:52:06.712 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.712 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:52:06.717 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:111 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:52:06.718 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.718 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:52:06.719 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:112 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:52:06.722 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.722 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:52:06.730 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:113 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:52:06.732 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.733 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:52:06.736 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:114 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:52:06.740 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.741 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:52:06.747 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:115 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:52:06.748 [http-nio-8080-exec-10] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:52:06.748 [http-nio-8080-exec-10] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:52:06.752 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.752 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 : calling sp_executesql: SQL:update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 
2025-07-10 19:52:06.769 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.769 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:52:06.772 [http-nio-8080-exec-10] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:116 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:52:06.773 [http-nio-8080-exec-10] INFO  c.c.car_rental.service.UserService - UserDetail lookup for ID=59: found=true
2025-07-10 19:52:06.776 [http-nio-8080-exec-10] INFO  c.c.c.controller.UserController - Profile updated successfully for user: HoangThiThuy1
2025-07-10 19:52:06.788 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:52:06.788 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:52:06.789 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:52:06.789 [http-nio-8080-exec-8] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:52:06.790 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:52:06.790 [http-nio-8080-exec-8] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:52:06.790 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:52:06.795 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.796 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:52:06.805 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:117 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:52:06.809 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.809 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:52:06.813 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:118 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:52:06.815 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.817 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:52:06.822 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:119 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:52:06.826 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:52:06.827 [http-nio-8080-exec-8] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:52:06.832 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:52:06.833 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@1ab60fc4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:52:06.834 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:52:06.834 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:52:06.834 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:52:06.834 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:52:06.834 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:52:06.835 [http-nio-8080-exec-8] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:52:06.841 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.841 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:52:06.847 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:120 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:52:06.848 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.849 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:52:06.852 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:121 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:52:06.853 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.853 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:52:06.855 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:122 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:52:06.857 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.857 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:52:06.860 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:123 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:52:06.867 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:52:06.868 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:52:06.874 [http-nio-8080-exec-8] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:124 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:54:50.369 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:54:50.370 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:54:50.371 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:54:50.371 [http-nio-8080-exec-1] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:54:50.372 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:54:50.372 [http-nio-8080-exec-1] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:54:50.372 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:54:50.377 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:127 created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.384 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:127 Executing (not server cursor) SELECT 1
2025-07-10 19:54:50.385 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:125 created by (SQLServerStatement:127)
2025-07-10 19:54:50.386 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.386 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:54:50.393 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:126 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:54:50.399 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.399 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:54:50.404 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:127 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:54:50.406 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.406 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:54:50.408 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:128 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:54:50.410 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:54:50.410 [http-nio-8080-exec-1] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:54:50.413 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - === UPDATE PROFILE REQUEST ===
2025-07-10 19:54:50.413 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Request data: UpdateProfileDTO(username=HoangThiThuy1, email=hoangthithuy123@gmail.com, phone=+84977225566, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:54:50.413 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - UserDetail: null
2025-07-10 19:54:50.413 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Authentication: HoangThiThuy1
2025-07-10 19:54:50.417 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.418 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:54:50.418 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:129 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:54:50.419 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.419 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:54:50.419 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:130 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:54:50.420 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.420 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:54:50.420 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:131 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:54:50.421 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Calling userService.update with userId: 59, updateUserDTO: UpdateUserDTO(username=HoangThiThuy1, email=hoangthithuy123@gmail.com, password=null, phone=+84977225566, roleId=2, statusId=8, countryCode=+84, preferredLanguage=null, userDetail=null)
2025-07-10 19:54:50.422 [http-nio-8080-exec-1] INFO  c.c.car_rental.service.UserService - Updating user with ID: 59
2025-07-10 19:54:50.424 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.424 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 
2025-07-10 19:54:50.430 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:132 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 join Role r1_0 on r1_0.role_id=u1_0.role_id where u1_0.user_id= @P0 )
2025-07-10 19:54:50.433 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.434 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:54:50.435 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:133 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:54:50.438 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.438 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0: calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0
2025-07-10 19:54:50.446 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:134 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 with (updlock,holdlock,rowlock) left join Role r1_0 with (updlock,holdlock,rowlock) on r1_0.role_id=u1_0.role_id where u1_0.email= @P0 and u1_0.is_deleted=0)
2025-07-10 19:54:50.449 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.450 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:54:50.453 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:135 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:54:50.455 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.455 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 : calling sp_executesql: SQL:select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 
2025-07-10 19:54:50.458 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:136 created by (sp_executesql SQL: select cc1_0.country_code,cc1_0.country_name from CountryCode cc1_0 where cc1_0.country_code= @P0 )
2025-07-10 19:54:50.460 [http-nio-8080-exec-1] INFO  c.c.car_rental.service.UserService - Before save: ID=59
2025-07-10 19:54:50.460 [http-nio-8080-exec-1] INFO  c.c.car_rental.service.UserService - After save: successful
2025-07-10 19:54:50.467 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.467 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 : calling sp_executesql: SQL:update [User] set country_code= @P0 ,created_at= @P1 ,email= @P2 ,is_deleted= @P3 ,last_login= @P4 ,password_hash= @P5 ,phone= @P6 ,preferred_language= @P7 ,role_id= @P8 ,status_id= @P9 ,updated_at= @P10 ,username= @P11 where user_id= @P12 
2025-07-10 19:54:50.487 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:2 ClientConnectionId: 404ad225-ab33-4581-a672-bacdfa89348e)
2025-07-10 19:54:50.487 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:54:50.490 [http-nio-8080-exec-1] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:137 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 19:54:50.491 [http-nio-8080-exec-1] INFO  c.c.car_rental.service.UserService - UserDetail lookup for ID=59: found=true
2025-07-10 19:54:50.497 [http-nio-8080-exec-1] INFO  c.c.c.controller.UserController - Profile updated successfully for user: HoangThiThuy1
2025-07-10 19:54:50.515 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 19:54:50.516 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 19:54:50.517 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:54:50.517 [http-nio-8080-exec-9] INFO  c.c.c.s.JwtAuthenticationFilter - Valid JWT token found for request: /api/users/profile
2025-07-10 19:54:50.517 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:54:50.519 [http-nio-8080-exec-9] DEBUG c.c.c.config.JwtTokenProvider - Xác thực token thành công
2025-07-10 19:54:50.519 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - Tải thông tin người dùng: HoangThiThuy1
2025-07-10 19:54:50.524 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:141 created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.539 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - SQLServerStatement:141 Executing (not server cursor) SELECT 1
2025-07-10 19:54:50.542 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:138 created by (SQLServerStatement:141)
2025-07-10 19:54:50.543 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.544 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 
2025-07-10 19:54:50.547 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:139 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 or u1_0.email= @P1 )
2025-07-10 19:54:50.550 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.550 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:54:50.552 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:140 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:54:50.555 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.556 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:54:50.558 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:141 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:54:50.560 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - User found: HoangThiThuy1, Role from DB: supplier
2025-07-10 19:54:50.561 [http-nio-8080-exec-9] INFO  c.c.c.s.CustomUserDetailsService - UserPrincipal created with authorities: [ROLE_SUPPLIER]
2025-07-10 19:54:50.564 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === DEBUG PROFILE REQUEST ===
2025-07-10 19:54:50.564 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.carrental.car_rental.security.UserPrincipal@4b0616e0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SUPPLIER]]
2025-07-10 19:54:50.565 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getName(): HoangThiThuy1
2025-07-10 19:54:50.565 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.getAuthorities(): [ROLE_SUPPLIER]
2025-07-10 19:54:50.565 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Authentication.isAuthenticated(): true
2025-07-10 19:54:50.565 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - === END DEBUG ===
2025-07-10 19:54:50.565 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Yêu cầu lấy thông tin hồ sơ người dùng hiện tại từ IP: 0:0:0:0:0:0:0:1
2025-07-10 19:54:50.565 [http-nio-8080-exec-9] INFO  c.c.c.controller.UserController - Looking up user by username: HoangThiThuy1
2025-07-10 19:54:50.575 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.575 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 : calling sp_executesql: SQL:select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 
2025-07-10 19:54:50.579 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:142 created by (sp_executesql SQL: select u1_0.user_id,u1_0.country_code,u1_0.created_at,u1_0.email,u1_0.is_deleted,u1_0.last_login,u1_0.password_hash,u1_0.phone,u1_0.preferred_language,u1_0.role_id,u1_0.status_id,u1_0.updated_at,u1_0.username from [User] u1_0 where u1_0.username= @P0 )
2025-07-10 19:54:50.581 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.583 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 : calling sp_executesql: SQL:select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 
2025-07-10 19:54:50.584 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:143 created by (sp_executesql SQL: select r1_0.role_id,r1_0.description,r1_0.is_deleted,r1_0.role_name from Role r1_0 where r1_0.role_id= @P0 )
2025-07-10 19:54:50.586 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.588 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 : calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 
2025-07-10 19:54:50.589 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:144 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 where ud1_0.user_id= @P0 )
2025-07-10 19:54:50.591 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.592 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 : calling sp_executesql: SQL:select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 
2025-07-10 19:54:50.593 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:145 created by (sp_executesql SQL: select s1_0.status_id,s1_0.description,s1_0.is_deleted,s1_0.status_name from status s1_0 where s1_0.status_id= @P0 )
2025-07-10 19:54:50.596 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: null created by (ConnectionID:1 ClientConnectionId: 2813760c-2dd7-4577-8f01-a12d1d12d207)
2025-07-10 19:54:50.596 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerStatement - sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0: calling sp_executesql: SQL:select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0
2025-07-10 19:54:50.597 [http-nio-8080-exec-9] DEBUG c.m.s.j.internals.SQLServerResultSet - SQLServerResultSet:146 created by (sp_executesql SQL: select ud1_0.user_id,ud1_0.address,ud1_0.is_deleted,ud1_0.name,ud1_0.taxcode from UserDetail ud1_0 join [User] u1_0 on u1_0.user_id=ud1_0.user_id where u1_0.user_id= @P0 and ud1_0.is_deleted=0)
2025-07-10 20:04:43.997 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /api/users/profile
2025-07-10 20:04:43.999 [http-nio-8080-exec-7] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /api/users/profile, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 20:04:44.017 [http-nio-8080-exec-7] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /api/users/profile, error: Full authentication is required to access this resource
2025-07-10 20:04:44.114 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Request path: /favicon.ico
2025-07-10 20:04:44.114 [http-nio-8080-exec-4] INFO  c.c.c.s.JwtAuthenticationFilter - Path: /favicon.ico, isPublicEndpoint: false, isGetRestrictedEndpoint: false
2025-07-10 20:04:44.115 [http-nio-8080-exec-4] ERROR c.c.car_rental.config.SecurityConfig - Authentication failed for path: /favicon.ico, error: Full authentication is required to access this resource
